!function(){"use strict";var e,t={285:function(e,t,n){var i,a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),o=0;o<n.length;o++)"default"!==n[o]&&a(t,e,n[o]);return r(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewerActions=t.SearchFieldActions=t.ProfilePageActions=t.PlaylistViewActions=t.PlaylistPageActions=t.PageActions=t.MediaPageActions=void 0,t.MediaPageActions=o(n(4388)),t.PageActions=o(n(266)),t.PlaylistPageActions=o(n(7500)),t.PlaylistViewActions=o(n(8322)),t.ProfilePageActions=o(n(8759)),t.SearchFieldActions=o(n(1981)),t.VideoViewerActions=o(n(2586))},795:function(e,t,n){n(9471),n(5338),n(7460),n(4571),n(8790),n(7664),n(4915),n(2140)},878:function(e,t,n){var i=n(9471),a=n(8713),r=n.n(a),o=n(6387),s=n(5321),l=n(2828);function c(e){const{thumbnail:t}=(0,o.useUser)(),n={"aria-label":"Account profile photo that opens list of options and settings pages links",className:"thumbnail"};switch(e.isButton?void 0!==e.onClick&&(n.onClick=e.onClick):n.type="span",e.size){case"small":case"large":n.className+=" "+e.size+"-thumb"}return i.createElement(s.i,n,t?i.createElement("img",{src:t,alt:""}):i.createElement(l.Z,{type:"person"}))}c.propTypes={isButton:r().bool,size:r().oneOf(["small","medium","large"]),onClick:r().func},c.defaultProps={isButton:!1,size:"medium"}},1134:function(e,t,n){function i(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function r(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function o(e,t){return e.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}n.d(t,{CX:function(){return o},GT:function(){return c},kN:function(){return i},qk:function(){return a},uU:function(){return s},xi:function(){return l},zc:function(){return r}});const s=window.cancelAnimationFrame||window.mozCancelAnimationFrame,l=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;function c(){const e={document:{visibility:[]},window:{resize:[],scroll:[]}};return document.addEventListener("visibilitychange",function(){e.document.visibility.map(e=>e())}),window.addEventListener("resize",function(){e.window.resize.map(e=>e())}),window.addEventListener("scroll",function(){e.window.scroll.map(e=>e())}),{doc:function(t){"function"==typeof t&&e.document.visibility.push(t)},win:function(t,n){"function"==typeof t&&e.window.resize.push(t),"function"==typeof n&&e.window.scroll.push(n)}}}},1254:function(e,t,n){n(9471),n(7460),n(5338),n(4915),n(8790),n(285),n(7664)},1470:function(e,t,n){n(9471)},1702:function(e,t,n){n(6403)},1936:function(e,t,n){n(1254),n(3212),n(795),n(1470)},2140:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarThemeSwitcher=void 0;var a=i(n(9471)),r=n(5338);t.SidebarThemeSwitcher=function(){var e=(0,r.useTheme)(),t=e.currentThemeMode,n=e.changeThemeMode,i=e.themeModeSwitcher;return i.enabled&&"sidebar"===i.position&&a.default.createElement("div",{className:"sidebar-theme-switcher"},a.default.createElement("div",{className:"sidebar-theme-switcher-inner"},a.default.createElement("span",{className:"theme-icon"+("dark"===t?"":" active")},a.default.createElement("i",{className:"material-icons","data-icon":"wb_sunny"})),a.default.createElement("span",null,a.default.createElement("span",{className:"checkbox-switcher"},a.default.createElement("input",{type:"checkbox",checked:"dark"===t,onChange:n}))),a.default.createElement("span",{className:"theme-icon"+("dark"===t?" active":"")},a.default.createElement("i",{className:"material-icons","data-icon":"brightness_3"}))))}},2818:function(e,t,n){n.d(t,{OQ:function(){return d},n1:function(){return l},uW:function(){return c}});var i=n(8790),a=n(4915),r=n(5697);const o=["hls","h265","vp9","h264","vp8","mp4","theora"];function s(e,t){let n=null,i=document.createElement("video");if(i.canPlayType)try{switch(e){case"hls":case"mp4":n=!0;break;case"h265":n="probably"===i.canPlayType('video/mp4; codecs="hvc1.1.L0.0"')||"probably"===i.canPlayType('video/mp4; codecs="hev1.1.L0.0"');break;case"h264":n="probably"===i.canPlayType('video/mp4; codecs="avc1.42E01E"')||"probably"===i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');break;case"vp9":n="probably"===i.canPlayType('video/webm; codecs="vp9"');break;case"vp8":n="probably"===i.canPlayType('video/webm; codecs="vp8, vorbis"');break;case"theora":n="probably"===i.canPlayType('video/ogg; codecs="theora"')}if(t=(t instanceof Boolean||0===t||1==t)&&t){if("no"===i.canPlayType("video/nonsense")&&r.warn('BUGGY: Codec detection bug in Firefox 3.5.0 - 3.5.1 and Safari 4.0.0 - 4.0.4 that answer "no" to unknown codecs instead of an empty string'),"probably"===i.canPlayType("video/webm")&&r.warn('BUGGY: Codec detection bug that Firefox 27 and earlier always says "probably" when asked about WebM, even when the codecs string is not present'),"maybe"===i.canPlayType('video/mp4; codecs="avc1.42E01E"'))switch(i.canPlayType("video/mp4")){case"probably":r.warn('BUGGY: Codec detection bug in iOS 4.1 and earlier that switches "maybe" and "probably" around');break;case"maybe":r.warn('BUGGY: Codec detection bug in Android where no better answer than "maybe" is given')}"probably"===i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')&&"probably"!==i.canPlayType('video/mp4; codecs="avc1.42E01E"')&&r.warn("BUGGY: Codec detection bug in Internet Explorer 9 that requires both audio and video codec on test")}}catch(e){r.warn(e)}return n}function l(e){let t=[],n={},i=document.createElement("video");return i.canPlayType&&(n.hls=!0,t.push("hls"),(i.canPlayType('video/mp4; codecs="hvc1.1.L0.0"')||"probably"===i.canPlayType('video/mp4; codecs="hev1.1.L0.0"'))&&(n.h265=!0,t.push("h265")),"probably"===i.canPlayType('video/mp4; codecs="avc1.42E01E"')&&(n.h264=!0,t.push("h264")),"probably"===i.canPlayType('video/webm; codecs="vp9"')&&(n.vp9=!0,t.push("vp9")),e&&("probably"===i.canPlayType('video/webm; codecs="vp8, vorbis"')&&(n.vp8=!0,t.push("vp8")),"probably"===i.canPlayType('video/ogg; codecs="theora"')&&(n.theora=!0,t.push("theora"))),"probably"===i.canPlayType('video/mp4; codecs="mp4v.20.8"')&&(n.mp4=!0,t.push("mp4"))),{order:t,support:n}}function c(e,t,n){const c={};let d,u,p;n=void 0===n?l():n;const m={hls:["m3u8"],h265:["mp4","webm"],h264:["mp4","webm"],vp9:["mp4","webm"],vp8:["mp4","webm"],theora:["ogg"],mp4:["mp4"]};for(d in t)t.hasOwnProperty(d)&&(u=null,"master_file"===d?u="Auto":(u=d.split("_playlist"),u=2===u.length?u[0]:null),null!==u&&(c[u]=void 0===c[u]?{format:[],url:[]}:c[u],c[u].format.push("hls"),c[u].url.push((0,a.formatInnerLink)(t[d],i.SiteContext._currentValue.url))));for(u in e)if(e.hasOwnProperty(u)&&Object.keys(e[u]).length&&(1080>=parseInt(u,10)||1080<window.screen.width&&1080<window.screen.height))for(d=0;d<o.length;)void 0!==e[u][o[d]]&&s(o[d],!1)&&e[u][o[d]]&&e[u][o[d]].url&&(100!==e[u][o[d]].progress&&r.warn("VIDEO DEBUG:","PROGRESS value is",e[u][o[d]].progress),"success"!==e[u][o[d]].status&&r.warn("VIDEO DEBUG:","STATUS value is",e[u][o[d]].status),p=e[u][o[d]].url.split("."),p.length&&0<=m[o[d]].indexOf(p[p.length-1])&&(c[u]=void 0===c[u]?{format:[],url:[]}:c[u],c[u].format.push(o[d]),c[u].url.push((0,a.formatInnerLink)(e[u][o[d]].url,i.SiteContext._currentValue.url)))),d+=1;return c}function d(e,t){let n,i=Object.keys(t);if(void 0!==t[e])return e;if(parseInt(e,10)>=parseInt(i[i.length-1],10))return i[i.length-1];if(parseInt(e,10)<=parseInt(i[0],10))return i[0];for(n=i.length-1;n>=0;){if(parseInt(e,10)>=parseInt(i[n],10))return i[n+1];n-=1}}},2828:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(9471);const a=({type:e})=>e?i.createElement("i",{className:"material-icons","data-icon":e}):null},2901:function(e,t,n){var i=n(9471);const a=i.forwardRef((e,t)=>void 0!==e.children?i.createElement("div",{ref:t,className:"popup"+(void 0!==e.className?" "+e.className:""),style:e.style},e.children):null);t.Ay=a},3135:function(e,t,n){var i=n(9471),a=n(8713),r=n.n(a),o=n(2828);function s(e){const[t,n]=(0,i.useState)(e.active);return i.createElement("div",{className:"mi-filters-toggle"},i.createElement("button",{className:t?"active":"","aria-label":"Filter",onClick:function(){n(!t),void 0!==e.onClick&&e.onClick()}},i.createElement(o.Z,{type:"filter_list"}),i.createElement("span",{className:"filter-button-label"},i.createElement("span",{className:"filter-button-label-text"},"FILTERS"))))}s.propTypes={onClick:r().func,active:r().bool},s.defaultProps={active:!1}},3212:function(e,t,n){n(9471),n(5338),n(1470)},4463:function(e,t,n){n.r(t),n.d(t,{UserConsumer:function(){return l},UserContext:function(){return r},UserProvider:function(){return s}});var i=n(9471),a=n(3997);const r=(0,i.createContext)(),o=(0,a.$)(window.MediaCMS).member,s=({children:e})=>{const t={isAnonymous:o.is.anonymous,username:o.username,thumbnail:o.thumbnail,userCan:o.can,pages:o.pages};return i.createElement(r.Provider,{value:t},e)},l=r.Consumer;t.default=r},4915:function(e,t,n){n.d(t,{BrowserEvents:function(){return i.GT},addClassname:function(){return i.zc},cancelAnimationFrame:function(){return i.uU},csrfToken:function(){return l.G},deleteRequest:function(){return u.Fb},exportStore:function(){return r.A},formatInnerLink:function(){return o.c},formatViewsNumber:function(){return s.A},getRequest:function(){return u.iq},hasClassname:function(){return i.CX},isPositiveIntegerOrZero:function(){return c},logErrorAndReturnError:function(){return a.m},logWarningAndReturnError:function(){return a.g},postRequest:function(){return u.MB},publishedOnDate:function(){return d.A},putRequest:function(){return u.zi},removeClassname:function(){return i.qk},replaceString:function(){return m.u},requestAnimationFrame:function(){return i.xi},supportsSvgAsImg:function(){return i.kN},translateString:function(){return p.g}});var i=n(1134),a=n(6403),r=n(977),o=n(463),s=n(4632),l=n(5393);n(8004);const c=e=>(e=>e===Math.trunc(e))(e)&&((e=>(e=>e>0)(e))(e)||(e=>0===e)(e));n(1702);var d=n(7673),u=n(9659),p=n(4036),m=n(4470)},5305:function(e,t,n){var i=n(9471),a=n(9834),r=n(8713),o=n.n(r);function s(e){const t=(0,i.useRef)(null),[n,r]=(0,i.useState)(null);let o=[];function s(t,n){var i;n.preventDefault(),n.stopPropagation(),i=o[t].id,void 0!==e.pages[i]&&r(i)}return(0,i.useEffect)(()=>{void 0!==e.pages[e.initPage]?r(e.initPage):Object.keys(e.pages).length?r(Object.keys(e.pages)[0]):r(null)},[e.initPage]),(0,i.useEffect)(()=>{!function(){let e=0;for(;e<o.length;)o[e].elem.removeEventListener("click",o[e].listener),e+=1;o=[]}(),n&&(function(){let n,i,r=(0,a.findDOMNode)(t.current),l=r.querySelectorAll(e.pageChangeSelector);if(l.length)for(n=0;n<l.length;)i=l[n].getAttribute(e.pageIdSelectorAttr),i=i?i.trim():i,i&&(o[n]={id:i,elem:l[n]},o[n].listener=(e=>t=>s(e,t))(n),o[n].elem.addEventListener("click",o[n].listener)),n+=1;e.focusFirstItemOnPageChange&&r.focus()}(),"function"==typeof e.pageChangeCallback&&e.pageChangeCallback(n))},[n]),n?i.createElement("div",{ref:t},i.cloneElement(e.pages[n])):null}s.propTypes={initPage:o().string,pages:o().object.isRequired,pageChangeSelector:o().string.isRequired,pageIdSelectorAttr:o().string.isRequired,focusFirstItemOnPageChange:o().bool,pageChangeCallback:o().func},s.defaultProps={focusFirstItemOnPageChange:!0}},5320:function(e,t,n){n.r(t),n.d(t,{LayoutConsumer:function(){return u},LayoutContext:function(){return c},LayoutProvider:function(){return d}});var i=n(9471),a=n(7154),r=n(7460),o=n(4915),s=n(8899);let l;const c=(0,i.createContext)(),d=({children:e})=>{const t=(0,i.useContext)(s.default),n=new a.BrowserCache("MediaCMS["+t.id+"][layout]",86400),d=!(!document.getElementById("app-sidebar")&&!document.querySelector(".page-sidebar")),[u,p]=(0,i.useState)(n.get("visible-sidebar")),[m,f]=(0,i.useState)(!1);(0,i.useEffect)(()=>{u?(0,o.addClassname)(document.body,"visible-sidebar"):(0,o.removeClassname)(document.body,"visible-sidebar"),"media"!==r.PageStore.get("current-page")&&1023<window.innerWidth&&n.set("visible-sidebar",u)},[u]),(0,i.useEffect)(()=>{r.PageStore.once("page_init",()=>{"media"===r.PageStore.get("current-page")&&(p(!1),(0,o.removeClassname)(document.body,"visible-sidebar"))}),p("media"!==r.PageStore.get("current-page")&&1023<window.innerWidth&&(null===u||u))},[]);const h={enabledSidebar:d,visibleSidebar:u,setVisibleSidebar:p,visibleMobileSearch:m,toggleMobileSearch:()=>{f(!m)},toggleSidebar:()=>{const e=!u;!function(e){clearTimeout(l),(0,o.addClassname)(document.body,"sliding-sidebar"),l=setTimeout(function(){"media"===r.PageStore.get("current-page")?e?(0,o.addClassname)(document.body,"overflow-hidden"):(0,o.removeClassname)(document.body,"overflow-hidden"):!e||767<window.innerWidth?(0,o.removeClassname)(document.body,"overflow-hidden"):(0,o.addClassname)(document.body,"overflow-hidden"),e?(0,o.addClassname)(document.body,"visible-sidebar"):(0,o.removeClassname)(document.body,"visible-sidebar"),l=setTimeout(function(){l=null,(0,o.removeClassname)(document.body,"sliding-sidebar")},220)},20)}(e),p(e)}};return i.createElement(c.Provider,{value:h},e)},u=c.Consumer},5321:function(e,t,n){n.d(t,{i:function(){return s}});var i=n(9471),a=n(8713),r=n.n(a);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(null,arguments)}function s(e){const t=i.createElement("span",null,i.createElement("span",null,e.children)),n={tabIndex:e.tabIndex||null,title:e.title||null,className:"circle-icon-button"+(void 0!==e.className?" "+e.className:"")+(e.buttonShadow?" button-shadow":"")};return void 0!==e["data-page-id"]&&(n["data-page-id"]=e["data-page-id"]),void 0!==e["aria-label"]&&(n["aria-label"]=e["aria-label"]),"link"===e.type?i.createElement("a",o({},n,{href:e.href||null,rel:e.rel||null}),t):"span"===e.type?i.createElement("span",o({},n,{onClick:e.onClick||null}),t):i.createElement("button",o({},n,{onClick:e.onClick||null}),t)}s.propTypes={type:r().oneOf(["button","link","span"]),buttonShadow:r().bool,className:r().string},s.defaultProps={type:"button",buttonShadow:!1}},5465:function(e,t,n){n.r(t),n.d(t,{ThemeConsumer:function(){return u},ThemeContext:function(){return c},ThemeProvider:function(){return d}});var i=n(9471),a=n(7154),r=n(4915),o=n(3997),s=n(8899);const l=(0,o.$)(window.MediaCMS),c=(0,i.createContext)(),d=({children:e})=>{const t=(0,i.useContext)(s.default),n=new a.BrowserCache("MediaCMS["+t.id+"][theme]",86400),[o,d]=(0,i.useState)((u=n.get("mode"),p=l.theme.mode,"light"===u||"dark"===u?u:p));var u,p;const m=function(e){let t=null,n=null;return void 0!==e.darkMode&&((0,r.supportsSvgAsImg)()&&void 0!==e.darkMode.svg&&""!==e.darkMode.svg?n=e.darkMode.svg:void 0!==e.darkMode.img&&""!==e.darkMode.img&&(n=e.darkMode.img)),void 0!==e.lightMode&&((0,r.supportsSvgAsImg)()&&void 0!==e.lightMode.svg&&""!==e.lightMode.svg?t=e.lightMode.svg:void 0!==e.lightMode.img&&""!==e.lightMode.img&&(t=e.lightMode.img)),null===t&&null===n||(null===t?t=n:null===n&&(n=t)),{light:t,dark:n}}(l.theme.logo),[f,h]=(0,i.useState)(m[o]);(0,i.useEffect)(()=>{"dark"===o?(0,r.addClassname)(document.body,"dark_theme"):(0,r.removeClassname)(document.body,"dark_theme"),n.set("mode",o),h(m[o])},[o]);const v={logo:f,currentThemeMode:o,changeThemeMode:()=>{d("light"===o?"dark":"light")},themeModeSwitcher:l.theme.switch};return i.createElement(c.Provider,{value:v},e)},u=c.Consumer},6089:function(e,t,n){n(9471),n(6371)},6371:function(e,t,n){n.r(t);var i=n(9032),a=n.n(i),r=n(7154),o=n(4915),s=n(3997);function l(){let e=new Uint32Array(3);return window.crypto.getRandomValues(e),(performance.now().toString(36)+Array.from(e).map(e=>e.toString(36)).join("")).replace(/./g,""+Math.random()+Intl.DateTimeFormat().resolvedOptions().timeZone+Date.now())}let c,d=null,u=null;class p extends(a()){constructor(e){super(),u=(0,s.$)(window.MediaCMS),c=new r.BrowserCache(u.site.id,86400),d={mediaAutoPlay:c.get("media-auto-play")},d.mediaAutoPlay=null===d.mediaAutoPlay||d.mediaAutoPlay,this.browserEvents=(0,o.BrowserEvents)(),this.browserEvents.doc(this.onDocumentVisibilityChange.bind(this)),this.browserEvents.win(this.onWindowResize.bind(this),this.onWindowScroll.bind(this)),this.notifications=function(e){let t=[];function n(e){"string"==typeof e&&t.push([l(),e])}return e.map(n),{size:function(){return t.length},push:n,clear:function(){t=[]},messages:function(){return[...t]}}}(void 0!==window.MediaCMS&&void 0!==window.MediaCMS.notifications?window.MediaCMS.notifications:[])}onDocumentVisibilityChange(){this.emit("document_visibility_change")}onWindowScroll(){this.emit("window_scroll")}onWindowResize(){this.emit("window_resize")}initPage(e){d.currentPage=e}get(e){let t;switch(e){case"browser-cache":t=c;break;case"media-auto-play":t=d.mediaAutoPlay;break;case"config-contents":t=u.contents;break;case"config-enabled":t=u.enabled;break;case"config-media-item":t=u.media.item;break;case"config-options":t=u.options;break;case"config-site":t=u.site;break;case"api-playlists":n=e.split("-")[1],t=u.api[n]||null;break;case"notifications-size":t=this.notifications.size();break;case"notifications":t=this.notifications.messages(),this.notifications.clear();break;case"current-page":t=d.currentPage}var n;return t}actions_handler(e){switch(e.type){case"INIT_PAGE":this.initPage(e.page),this.emit("page_init");break;case"TOGGLE_AUTO_PLAY":d.mediaAutoPlay=!d.mediaAutoPlay,c.set("media-auto-play",d.mediaAutoPlay),this.emit("switched_media_auto_play");break;case"ADD_NOTIFICATION":this.notifications.push(e.notification),this.emit("added_notification")}}}t.default=(0,o.exportStore)(new p,"actions_handler")},6568:function(e,t,n){var i=n(9471),a=n(8713),r=n.n(a);function o(e){let t="spinner-loader";switch(e.size){case"tiny":case"x-small":case"small":case"large":case"x-large":t+=" "+e.size}return i.createElement("div",{className:t},i.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},i.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"1.5",strokeMiterlimit:"10"})))}o.propTypes={size:r().oneOf(["tiny","x-small","small","medium","large","x-large"])},o.defaultProps={size:"medium"}},7154:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(6077),t),a(n(4247),t),a(n(3337),t)},7201:function(e,t,n){var i=n(9471),a=n(8713),r=n.n(a),o=n(2828);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(null,arguments)}function l(e){let t=[];const n=e.itemAttr||{};void 0===n.className?n.className="":n.className&&(n.className+=" ");let a=e.text?e.icon&&"right"!==e.iconPos?1:0:-1,r=e.icon?e.text&&"right"===e.iconPos?1:0:-1;switch(-1<a&&(t[a]=i.createElement("span",{key:"Text"},e.text)),-1<r&&(t[r]=i.createElement("span",{key:"Icon",className:"right"===e.iconPos?"menu-item-icon-right":"menu-item-icon"},i.createElement(o.Z,{type:e.icon}))),e.itemType){case"link":t=i.createElement("a",s({},e.linkAttr||{},{href:e.link,title:e.text||null}),t),n.className+="link-item"+(e.active?" active":"");break;case"button":case"open-subpage":t=i.createElement("button",s({},e.buttonAttr||{},{key:"button"}),t);break;case"label":t=i.createElement("button",s({},e.buttonAttr||{},{key:"button"}),i.createElement("span",null,e.text||null)),n.className="label-item";break;case"div":t=i.createElement("div",s({},e.divAttr||{},{key:"div"}),e.text||null)}return""!==n.className&&(n.className=" "+n.className),n.className=n.className.trim(),i.createElement("li",n,t)}function c(e){const t=e.items.map((e,t)=>i.createElement(l,s({key:t},e)));return t.length?i.createElement("div",{className:"nav-menu"+(e.removeVerticalPadding?" pv0":"")},i.createElement("nav",null,i.createElement("ul",null,t))):null}l.propTypes={itemType:r().oneOf(["link","open-subpage","button","label","div"]),link:r().string,icon:r().string,iconPos:r().oneOf(["left","right"]),text:r().string,active:r().bool,divAttr:r().object,buttonAttr:r().object,itemAttr:r().object,linkAttr:r().object},l.defaultProps={itemType:"link",iconPos:"left",active:!1},c.propTypes={removeVerticalPadding:r().bool,items:r().arrayOf(r().shape(l.propTypes)).isRequired},c.defaultProps={removeVerticalPadding:!1}},7256:function(e,t,n){n(9471);var i=n(8713),a=n.n(i);n(2828),a().string.isRequired,a().string.isRequired,a().func.isRequired},7460:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoViewerStore=t.SearchFieldStore=t.ProfilePageStore=t.PlaylistViewStore=t.PlaylistPageStore=t.PageStore=t.MediaPageStore=void 0;var a=i(n(2127));t.MediaPageStore=a.default;var r=i(n(6371));t.PageStore=r.default;var o=i(n(6841));t.PlaylistPageStore=o.default;var s=i(n(5503));t.PlaylistViewStore=s.default;var l=i(n(8580));t.ProfilePageStore=l.default;var c=i(n(4402));t.SearchFieldStore=c.default;var d=i(n(1309));t.VideoViewerStore=d.default},7664:function(e,t,n){n.d(t,{CircleIconButton:function(){return i.i}});var i=n(5321);n(7256),n(3135),n(2828),n(5305),n(7201),n(6089),n(3818),n(2901),n(6568),n(878)},8175:function(e,t,n){var i=n(9471),a=n(9834);n(5465),n(5320),n(4463),n(1936),function(e,t){const n=e?document.getElementById(e):void 0;n&&t&&a.render(i.createElement(t,null),n)}("page-embed",n(9942).EmbedPage)},8531:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(9471),a=n(8713),r=n.n(a),o=n(285),s=n(8790),l=n(7460),c=n(4915),d=n(7154),u=n(2818),p=n(9237),m=n(5697);class f extends i.PureComponent{constructor(e){if(super(e),this.state={displayPlayer:!1},this.videoSources=[],function(e){switch(e){case"running_X":l.MediaPageStore.set("media-load-error-type","encodingRunning"),l.MediaPageStore.set("media-load-error-message","Media encoding is currently running. Try again in few minutes.");break;case"pending_X":l.MediaPageStore.set("media-load-error-type","encodingPending"),l.MediaPageStore.set("media-load-error-message","Media encoding is pending");break;case"fail":l.MediaPageStore.set("media-load-error-type","encodingFailed"),l.MediaPageStore.set("media-load-error-message","Media encoding failed")}}(this.props.data.encoding_status),null!==l.MediaPageStore.get("media-load-error-type"))return void(this.state.displayPlayer=!0);if("string"==typeof this.props.data.poster_url?this.videoPoster=(0,c.formatInnerLink)(this.props.data.poster_url,this.props.siteUrl):"string"==typeof this.props.data.thumbnail_url&&(this.videoPoster=(0,c.formatInnerLink)(this.props.data.thumbnail_url,this.props.siteUrl)),this.videoInfo=(0,u.uW)(this.props.data.encodings_info,this.props.data.hls_info),Object.keys(this.videoInfo).length){let e=l.VideoViewerStore.get("video-quality");(null===e||"Auto"===e&&void 0===this.videoInfo.Auto)&&(e=720);let t=(0,u.OQ)(e,this.videoInfo);"Auto"===e&&void 0!==this.videoInfo.Auto&&this.videoSources.push({src:this.videoInfo.Auto.url[0]});const n=(0,u.n1)();let i,a;for(a=0;a<this.videoInfo[t].format.length;){if("hls"===this.videoInfo[t].format[a]){this.videoSources.push({src:this.videoInfo[t].url[a]});break}a+=1}for(a in this.props.data.encodings_info[t])this.props.data.encodings_info[t].hasOwnProperty(a)&&n.support[a]&&(i=this.props.data.encodings_info[t][a].url,i&&(i=(0,c.formatInnerLink)(i,this.props.siteUrl),this.videoSources.push({src:i,encodings_status:this.props.data.encodings_info[t][a].status})))}else this.videoInfo=null;if(this.videoSources.length){if(!this.props.inEmbed&&1===this.videoSources.length&&"running"===this.videoSources[0].encodings_status)return l.MediaPageStore.set("media-load-error-type","encodingRunning"),void l.MediaPageStore.set("media-load-error-message","Media encoding is currently running. Try again in few minutes.")}else switch(l.MediaPageStore.get("media-load-error-type")){case"encodingRunning":case"encodingPending":case"encodingFailed":break;default:m.warn("VIDEO DEBUG:","Video files don't exist")}l.PageStore.on("switched_media_auto_play",this.onUpdateMediaAutoPlay.bind(this)),this.browserCache=new d.BrowserCache(s.SiteContext._currentValue.id,86400);const t=new d.MediaDurationInfo;t.update(this.props.data.duration),this.durationISO8601=t.ISO8601(),this.playerElem=null,this.playerInstance=null,this.onPlayerInit=this.onPlayerInit.bind(this),this.onClickNext=this.onClickNext.bind(this),this.onClickPrevious=this.onClickPrevious.bind(this),this.onStateUpdate=this.onStateUpdate.bind(this)}componentDidMount(){if(this.videoSources.length){this.upNextLoaderView=!this.props.inEmbed&&this.props.data.related_media.length?new d.UpNextLoaderView(this.props.data.related_media[0]):null;let e=null;if(this.props.inEmbed){let t=document.createElement("a"),n=document.createElement("a");e=document.createElement("div"),e.setAttribute("class","media-links-top-left"),t&&(t.setAttribute("class","title-link"),t.setAttribute("href",this.props.data.url),t.setAttribute("title",this.props.data.title),t.setAttribute("target","_blank"),t.innerHTML=this.props.data.title),n&&(n.setAttribute("class","user-thumb-link"),n.setAttribute("href",(0,c.formatInnerLink)(this.props.data.author_profile,this.props.siteUrl)),n.setAttribute("title",this.props.data.author_name),n.setAttribute("target","_blank"),n.setAttribute("style","background-image:url("+(0,c.formatInnerLink)(l.MediaPageStore.get("media-author-thumbnail-url"),this.props.siteUrl)+")")),e.appendChild(n),e.appendChild(t)}let t='<button class="share-video-btn"><i class="material-icons">share</i><span>Share</span></button>';t+='<div class="share-options-wrapper">\t\t\t\t\t\t\t\t\t<div class="share-options">\t\t\t\t\t\t\t\t\t\t<div class="share-options-inner">\t\t\t\t\t\t\t\t\t\t\t<div class="sh-option share-email">\t\t\t\t\t\t\t\t\t\t\t\t<a href="mailto:?body='+l.MediaPageStore.get("media-url")+'" title=""><span><i class="material-icons">email</i></span><span>Email1</span></a>\t\t\t\t\t\t\t\t\t\t\t</div></div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t</div>',this.cornerLayers={topLeft:e,topRight:this.upNextLoaderView?this.upNextLoaderView.html():null,bottomLeft:this.recommendedMedia?this.recommendedMedia.html():null,bottomRight:this.props.inEmbed?t:null},this.setState({displayPlayer:!0},function(){setTimeout(function(){const e=document.querySelector(".share-video-btn"),t=document.querySelector(".share-options-wrapper"),n=document.querySelector(".share-options-inner");e&&e.addEventListener("click",function(e){(0,c.addClassname)(document.querySelector(".video-js.vjs-mediacms"),"vjs-visible-share-options")}),t&&t.addEventListener("click",function(e){e.target!==n&&e.target!==t||(0,c.removeClassname)(document.querySelector(".video-js.vjs-mediacms"),"vjs-visible-share-options")})},1e3)})}}onClickNext(){let e;l.MediaPageStore.get("playlist-id")?(e=l.MediaPageStore.get("playlist-next-media-url"),null===e&&(e=this.props.data.related_media[0].url)):this.props.inEmbed||(e=this.props.data.related_media[0].url),window.location.href=e}onClickPrevious(){let e;l.MediaPageStore.get("playlist-id")?(e=l.MediaPageStore.get("playlist-previous-media-url"),null===e&&(e=this.props.data.related_media[0].url)):this.props.inEmbed||(e=this.props.data.related_media[0].url),window.location.href=e}onStateUpdate(e){l.VideoViewerStore.get("in-theater-mode")!==e.theaterMode&&o.VideoViewerActions.set_viewer_mode(e.theaterMode),l.VideoViewerStore.get("player-volume")!==e.volume&&o.VideoViewerActions.set_player_volume(e.volume),l.VideoViewerStore.get("player-sound-muted")!==e.soundMuted&&o.VideoViewerActions.set_player_sound_muted(e.soundMuted),l.VideoViewerStore.get("video-quality")!==e.quality&&o.VideoViewerActions.set_video_quality(e.quality),l.VideoViewerStore.get("video-playback-speed")!==e.playbackSpeed&&o.VideoViewerActions.set_video_playback_speed(e.playbackSpeed)}onPlayerInit(e,t){this.playerElem=t,this.playerInstance=e,this.upNextLoaderView&&(this.upNextLoaderView.setVideoJsPlayerElem(this.playerInstance.player.el_),this.onUpdateMediaAutoPlay()),this.props.inEmbed||this.playerElem.parentNode.focus()}onUpdateMediaAutoPlay(){this.upNextLoaderView&&(l.PageStore.get("media-auto-play")||this.upNextLoaderView.hideTimerView())}render(){let e=null,t=null;!this.props.inEmbed&&l.MediaPageStore.get("playlist-id")?(e=l.MediaPageStore.get("playlist-next-media-url"),t=l.MediaPageStore.get("playlist-previous-media-url")):e=this.props.data.related_media.length&&!this.props.inEmbed?this.props.data.related_media[0].url:null;const n=this.props.data.sprites_url?{url:this.props.siteUrl+"/"+this.props.data.sprites_url.replace(/^\//g,""),frame:{width:160,height:90,seconds:10}}:null;return i.createElement(i.Fragment,null,i.createElement("div",{key:(this.props.inEmbed?"embed-":"")+"player-container",className:"player-container"+(this.videoSources.length?"":" player-container-error"),style:this.props.containerStyles,ref:"playerContainer"},i.createElement("div",{className:"player-container-inner",ref:"playerContainerInner",style:this.props.containerStyles},null==l.MediaPageStore.get("media-load-error-type")?i.createElement("div",{className:"video-player",ref:"videoJSPlayerWrapper",key:"videoJSPlayerWrapper"},i.createElement(s.SiteConsumer,null,a=>i.createElement(p.A,{data:this.props.data,useRoundedCorners:a.useRoundedCorners,version:a.version,isPlayList:!!l.MediaPageStore.get("playlist-id"),playerVolume:this.browserCache.get("player-volume"),playerSoundMuted:this.browserCache.get("player-sound-muted"),videoQuality:this.browserCache.get("video-quality"),videoPlaybackSpeed:parseInt(this.browserCache.get("video-playback-speed"),10),inTheaterMode:this.browserCache.get("in-theater-mode"),siteId:a.id,siteUrl:a.url,info:this.videoInfo,cornerLayers:this.cornerLayers,sources:this.videoSources,poster:this.videoPoster,previewSprite:n,subtitlesInfo:this.props.data.subtitles_info,enableAutoplay:!this.props.inEmbed,inEmbed:this.props.inEmbed,hasTheaterMode:!this.props.inEmbed,hasNextLink:!!e,nextLink:e,hasPreviousLink:!!t,errorMessage:l.MediaPageStore.get("media-load-error-message"),onClickNextCallback:this.onClickNext,onClickPreviousCallback:this.onClickPrevious,onStateUpdateCallback:this.onStateUpdate,onPlayerInitCallback:this.onPlayerInit}))):null)))}}f.defaultProps={inEmbed:!0,siteUrl:r().string.isRequired},f.propTypes={inEmbed:r().bool}},8790:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(9781),t),a(n(3537),t),a(n(5320),t),a(n(2401),t),a(n(3496),t),a(n(9423),t),a(n(2579),t),a(n(9854),t),a(n(8899),t),a(n(5886),t),a(n(5465),t),a(n(4463),t)},8899:function(e,t,n){n.r(t),n.d(t,{SiteConsumer:function(){return o},SiteContext:function(){return r}});var i=n(9471),a=n(3997);const r=(0,i.createContext)((0,a.$)(window.MediaCMS).site),o=r.Consumer;t.default=r},9237:function(e,t,n){var i=n(9471),a=n(5697);const r=({data:e,useRoundedCorners:t,version:n,isPlayList:r,playerVolume:o,playerSoundMuted:s,videoQuality:l,videoPlaybackSpeed:c,inTheaterMode:d,siteId:u,siteUrl:p,info:m,cornerLayers:f,sources:h,poster:v,previewSprite:g,subtitlesInfo:b,enableAutoplay:y,inEmbed:w,hasTheaterMode:P,hasNextLink:S,nextLink:k,hasPreviousLink:E,errorMessage:_,onClickNextCallback:C,onClickPreviousCallback:M,onStateUpdateCallback:A,onPlayerInitCallback:O})=>{const N=(0,i.useRef)(null),T=(0,i.useRef)(!1),I=(0,i.useRef)(null),j=(0,i.useRef)(w),x=e=>new URLSearchParams(window.location.search).get(e);(0,i.useEffect)(()=>{if(j.current=w,"undefined"!=typeof window){const i=x("t"),a=x("autoplay"),N=x("muted");window.MEDIA_DATA={data:e||{},useRoundedCorners:t,version:n,isPlayList:r,playerVolume:o||.5,playerSoundMuted:s||"1"===N,videoQuality:l||"auto",videoPlaybackSpeed:c||1,inTheaterMode:d||!1,siteId:u||"",siteUrl:p||"",info:m||{},cornerLayers:f||[],sources:h||[],poster:v||"",previewSprite:g||null,subtitlesInfo:b||[],enableAutoplay:y||"1"===a,inEmbed:w||!1,hasTheaterMode:P||!1,hasNextLink:S||!1,nextLink:k||null,hasPreviousLink:E||!1,errorMessage:_||"",urlTimestamp:i?parseInt(i,10):null,urlAutoplay:"1"===a,urlMuted:"1"===N,onClickNextCallback:C||null,onClickPreviousCallback:M||null,onStateUpdateCallback:A||null,onPlayerInitCallback:(e,t)=>{I.current=e,O&&O(e,t)}}}T.current||(V(),T.current=!0)},[e,p,w]),(0,i.useEffect)(()=>{if(w&&N.current){const e=setTimeout(()=>{const e=new CustomEvent("triggerVideoJSMount",{detail:{targetId:"video-js-root-embed"}});document.dispatchEvent(e),"undefined"!=typeof window&&window.triggerVideoJSMount&&window.triggerVideoJSMount()},100);return()=>clearTimeout(e)}},[w,N.current]),(0,i.useEffect)(()=>{const e=e=>{if(e.target.classList.contains("video-timestamp")){e.preventDefault();const t=parseInt(e.target.dataset.timestamp,10);let n=null;if(I.current&&I.current.player&&(n=I.current.player),!n&&"undefined"!=typeof window&&window.videojsPlayers){const e=j.current?"video-embed":"video-main";n=window.videojsPlayers[e]}if(!n&&"undefined"!=typeof window&&window.videojs){const e=document.querySelector(j.current?"#video-embed":"#video-main");e&&e.player&&(n=e.player)}if(n){t>=0&&t<n.duration()?n.currentTime(t):t>=0&&n.play();const e=document.querySelector(j.current?"#video-embed":"#video-main");e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}else a.warn("VideoJS player not found for timestamp navigation")}};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);const V=()=>{const e=document.querySelector('link[href*="video-js.css"]'),t=document.querySelector('script[src*="video-js.js"]');if(!e){const e=document.createElement("link");e.rel="stylesheet",e.href=p+"/static/video_js/video-js.css?v="+n,document.head.appendChild(e)}if(!t){const e=document.createElement("script");e.src=p+"/static/video_js/video-js.js?v="+n,document.head.appendChild(e)}};return i.createElement("div",{className:"video-js-wrapper",ref:N},w?i.createElement("div",{id:"video-js-root-embed",className:"video-js-root-embed"}):i.createElement("div",{id:"video-js-root-main",className:"video-js-root-main"}))};r.defaultProps={data:{},siteUrl:""},t.A=r},9942:function(e,t,n){var i,a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),o=0;o<n.length;o++)"default"!==n[o]&&a(t,e,n[o]);return r(t,e),t}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedPage=void 0;var l=o(n(9471)),c=n(8790),d=n(7460),u=n(285),p=s(n(8531)),m={position:"fixed",top:0,left:0,right:0,bottom:0,display:"block"},f={width:"100%",height:"100%"};t.EmbedPage=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1],i=(0,l.useState)(!1),a=i[0],r=i[1],o=function(){n(!0)},s=function(){r(!0)};return(0,l.useEffect)(function(){return d.MediaPageStore.on("loaded_video_data",o),d.MediaPageStore.on("loaded_media_error",s),u.MediaPageActions.loadMediaData(),function(){d.MediaPageStore.removeListener("loaded_video_data",o),d.MediaPageStore.removeListener("loaded_media_error",s)}},[]),l.default.createElement("div",{className:"embed-wrap",style:m},a&&l.default.createElement("div",{className:"player-container player-container-error",style:f},l.default.createElement("div",{className:"player-container-inner",style:f},l.default.createElement("div",{className:"error-container"},l.default.createElement("div",{className:"error-container-inner"},l.default.createElement("span",{className:"icon-wrap"},l.default.createElement("i",{className:"material-icons"},"error_outline")),l.default.createElement("span",{className:"msg-wrap"},d.MediaPageStore.get("media-load-error-message")))))),t&&l.default.createElement(c.SiteConsumer,null,function(e){return l.default.createElement(p.default,{data:d.MediaPageStore.get("media-data"),siteUrl:e.url,containerStyles:f})}))}}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=function(t,n,a,r){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(i.O).every(function(e){return i.O[e](n[l])})?n.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=722,function(){var e={722:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,o=n[0],s=n[1],l=n[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(l)var d=l(i)}for(t&&t(n);c<o.length;c++)r=o[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=i.O(void 0,[276],function(){return i(8175)});a=i.O(a)}();
!function(){var e,t={977:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(7143);function o(e,t){return r.register(e[t].bind(e)),e}},1936:function(e,t,n){"use strict";n.d(t,{PageHeader:function(){return r.z},PageMain:function(){return o.P},PageSidebar:function(){return a.E}});var r=n(1254),o=n(3212),a=n(795);n(1470)},4853:function(e,t,n){"use strict";n.r(t),n.d(t,{useBulkActions:function(){return a}});var r=n(9471),o=n(7591);function a(){const[e,t]=(0,r.useState)(new Set),[n,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(!1),[l,u]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[f,m]=(0,r.useState)(0),[g,h]=(0,r.useState)(""),[p,y]=(0,r.useState)(!1),[S,b]=(0,r.useState)("success"),[v,w]=(0,r.useState)(!1),[P,C]=(0,r.useState)(null),[I,k]=(0,r.useState)(!1),[M,E]=(0,r.useState)(!1),[A,O]=(0,r.useState)(!1),[T,R]=(0,r.useState)(!1),[_,F]=(0,r.useState)(!1),x=()=>{let e=null;if(document.cookie&&""!==document.cookie){const t=document.cookie.split(";");for(let n=0;n<t.length;n++){const r=t[n].trim();if("csrftoken="===r.substring(0,10)){e=decodeURIComponent(r.substring(10));break}}}return e},q=(e,t="success")=>{h(e),y(!0),b(t),setTimeout(()=>{y(!1)},5e3)},j=()=>{t(new Set)},N=()=>{t(new Set),m(e=>e+1)};return{selectedMedia:e,availableMediaIds:n,listKey:f,showConfirmModal:i,confirmMessage:c,notificationMessage:g,showNotification:p,notificationType:S,showPermissionModal:v,permissionType:P,showPlaylistModal:I,showChangeOwnerModal:M,showPublishStateModal:A,showCategoryModal:T,showTagModal:_,handleMediaSelection:(e,n)=>{t(t=>{const r=new Set(t);return n?r.add(e):r.delete(e),r})},handleItemsUpdate:e=>{const t=e.map(e=>e.friendly_token||e.uid||e.id);a(t)},handleSelectAll:()=>{t(new Set(n))},handleDeselectAll:()=>{t(new Set)},handleBulkAction:t=>{const n=e.size;0!==n&&("delete-media"===t?(s(!0),u(t),d((0,o.translateString)("You are going to delete")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"enable-comments"===t?(s(!0),u(t),d((0,o.translateString)("You are going to enable comments to")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"disable-comments"===t?(s(!0),u(t),d((0,o.translateString)("You are going to disable comments to")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"enable-download"===t?(s(!0),u(t),d((0,o.translateString)("You are going to enable download for")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"disable-download"===t?(s(!0),u(t),d((0,o.translateString)("You are going to disable download for")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"copy-media"===t?(s(!0),u(t),d((0,o.translateString)("You are going to copy")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"add-remove-coviewers"===t?(w(!0),C("viewer")):"add-remove-coeditors"===t?(w(!0),C("editor")):"add-remove-coowners"===t?(w(!0),C("owner")):"add-remove-playlist"===t?k(!0):"change-owner"===t?E(!0):"publish-state"===t?O(!0):"add-remove-category"===t?R(!0):"add-remove-tags"===t&&F(!0))},handleConfirmCancel:()=>{s(!1),u(null),d("")},handleConfirmProceed:()=>{const t=l;s(!1),u(null),d(""),"delete-media"===t?(()=>{const t=Array.from(e),n=t.length;fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x()},body:JSON.stringify({action:"delete_media",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to delete media");return e.json()}).then(e=>{const t=1===n?(0,o.translateString)("The media was deleted successfully."):(0,o.translateString)("Successfully deleted")+` ${n} `+(0,o.translateString)("media.");q(t),N()}).catch(e=>{q((0,o.translateString)("Failed to delete media. Please try again."),"error"),N()})})():"enable-comments"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x()},body:JSON.stringify({action:"enable_comments",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to enable comments");return e.json()}).then(e=>{q((0,o.translateString)("Successfully Enabled comments")),j()}).catch(e=>{q((0,o.translateString)("Failed to enable comments."),"error"),j()})})():"disable-comments"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x()},body:JSON.stringify({action:"disable_comments",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to disable comments");return e.json()}).then(e=>{q((0,o.translateString)("Successfully Disabled comments")),j()}).catch(e=>{q((0,o.translateString)("Failed to disable comments."),"error"),j()})})():"enable-download"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x()},body:JSON.stringify({action:"enable_download",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to enable download");return e.json()}).then(e=>{q((0,o.translateString)("Successfully Enabled Download")),j()}).catch(e=>{q((0,o.translateString)("Failed to enable download."),"error"),j()})})():"disable-download"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x()},body:JSON.stringify({action:"disable_download",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to disable download");return e.json()}).then(e=>{q((0,o.translateString)("Successfully Disabled Download")),j()}).catch(e=>{q((0,o.translateString)("Failed to disable download."),"error"),j()})})():"copy-media"===t&&(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":x()},body:JSON.stringify({action:"copy_media",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to copy media");return e.json()}).then(e=>{q((0,o.translateString)("Successfully Copied")),N()}).catch(e=>{q((0,o.translateString)("Failed to copy media."),"error"),j()})})()},handlePermissionModalCancel:()=>{w(!1),C(null)},handlePermissionModalSuccess:e=>{q(e),j(),w(!1),C(null)},handlePermissionModalError:e=>{q(e,"error"),w(!1),C(null)},handlePlaylistModalCancel:()=>{k(!1)},handlePlaylistModalSuccess:e=>{q(e),j(),k(!1)},handlePlaylistModalError:e=>{q(e,"error"),k(!1)},handleChangeOwnerModalCancel:()=>{E(!1)},handleChangeOwnerModalSuccess:e=>{q(e),N(),E(!1)},handleChangeOwnerModalError:e=>{q(e,"error"),E(!1)},handlePublishStateModalCancel:()=>{O(!1)},handlePublishStateModalSuccess:e=>{q(e),N(),O(!1)},handlePublishStateModalError:e=>{q(e,"error"),O(!1)},handleCategoryModalCancel:()=>{R(!1)},handleCategoryModalSuccess:e=>{q(e),j(),R(!1)},handleCategoryModalError:e=>{q(e,"error"),R(!1)},handleTagModalCancel:()=>{F(!1)},handleTagModalSuccess:e=>{q(e),j(),F(!1)},handleTagModalError:e=>{q(e,"error"),F(!1)},getCsrfToken:x,clearSelection:j,clearSelectionAndRefresh:N}}},5633:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(7460),o=n(7591);function a(e,t,n,a,i,s,l){const u={maxItems:t||255,pageItems:e?Math.min(t,e):1},c={totalItems:0,totalPages:0,nextRequestUrl:(0,o.formatInnerLink)(a,r.PageStore.get("config-site").url)},d={pageItems:0,requestResponse:!1};let f=null;const m=[],g=[];function h(e){let t,n;if(e=isNaN(e)?u.pageItems:e,d.pageItems&&d.pageItems<=g.length?(t=d.pageItems,n=!1,d.pageItems=0):(t=Math.min(e,g.length),n=e>g.length&&!!c.nextRequestUrl,d.pageItems=n?e-g.length:0),t){let e=0;for(;e<t;)m.push(g.shift()),e+=1;"function"==typeof s&&s(m)}n&&p()}function p(e){d.requestResponse=!0,(0,o.getRequest)(c.nextRequestUrl,!1,function(t){if(d.requestResponse=!1,!t||!t.data)return;let n=t.data,r=void 0!==n.results?n.results:n,o=0;for(;o<r.length&&u.maxItems>g.length;)null!==f&&f===r[o].url||g.push(r[o]),o+=1;c.nextRequestUrl=n.next&&u.maxItems>g.length?n.next:null,e&&(c.totalItems=n.count?n.count:g.length,c.totalItems=Math.min(u.maxItems,c.totalItems),c.totalPages=Math.ceil(c.totalItems/u.pageItems),"function"==typeof i&&i(c.totalItems),"function"==typeof l&&l(n)),h()}),c.nextRequestUrl=null}return null!=n?(0,o.getRequest)((0,o.formatInnerLink)(n,r.PageStore.get("config-site").url),!1,function(e){if(e&&e.data){let t=e.data,n=void 0!==t.results?t.results:t;n.length&&(f=n[0].url,m.push(n[0]))}p(!0)}):p(!0),{loadItems:function(e){!d.requestResponse&&m.length<c.totalItems&&h(e)},totalPages:function(){return c.totalPages},loadedAllItems:function(){return m.length===c.totalItems},cancelAll:function(){i=null,s=null}}}},6403:function(e,t,n){"use strict";n.d(t,{g:function(){return i},m:function(){return a}});var r=n(8004);function o(e,t,n){let r;switch(n){case TypeError:case RangeError:case SyntaxError:case ReferenceError:r=new n(t[0]);break;default:r=new Error(t[0])}return e(r.message,...t.slice(1)),r}function a(e,t){return o(r.z,e,t)}function i(e,t){return o(r.R,e,t)}},7143:function(e,t,n){const r=n(2063).Dispatcher;e.exports=new r},7591:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserEvents:function(){return r.GT},PositiveInteger:function(){return p},PositiveIntegerOrZero:function(){return h},__esModule:function(){return P.B},addClassname:function(){return r.zc},cancelAnimationFrame:function(){return r.uU},csrfToken:function(){return d.G},deleteRequest:function(){return b.Fb},error:function(){return m.z},exportStore:function(){return a.A},formatInnerLink:function(){return l},formatManagementTableDate:function(){return u.n},formatViewsNumber:function(){return c.A},getRequest:function(){return b.iq},greaterCommonDivision:function(){return g.p7},hasClassname:function(){return r.CX},imageExtension:function(){return f.t},inEmbeddedApp:function(){return P.R},isGt:function(){return g.en},isInteger:function(){return g.Fq},isNumber:function(){return g.Et},isPositive:function(){return g.ep},isPositiveInteger:function(){return g.q6},isPositiveIntegerOrZero:function(){return g.tR},isPositiveNumber:function(){return g.F5},isZero:function(){return g.be},logErrorAndReturnError:function(){return o.m},logWarningAndReturnError:function(){return o.g},postRequest:function(){return b.MB},publishedOnDate:function(){return y.A},putRequest:function(){return b.zi},quickSort:function(){return S.g},removeClassname:function(){return r.qk},replaceString:function(){return w.u},requestAnimationFrame:function(){return r.xi},supportsSvgAsImg:function(){return r.kN},translateString:function(){return v.g},warn:function(){return m.R}});var r=n(1134),o=n(6403),a=n(977),i=n(4571),s=n.n(i);function l(e,t){let n=s()(e,{});return""!==n.origin&&"null"!==n.origin&&n.origin||(n=s()(t+"/"+e.replace(/^\//g,""),{})),n.toString()}var u=n(8482),c=n(4632),d=n(5393),f=n(1554),m=n(8004),g=n(8354);const h=function(e,t,n){return void 0===e[t]||(r=e[t])===Math.trunc(r)&&r>=0?null:(0,o.m)(["Invalid prop `"+t+"` of type `"+typeof e[t]+"` supplied to `"+(n||"N/A")+"`, expected `positive integer or zero` ("+e[t]+")."]);var r},p=function(e,t,n){return void 0===e[t]||(r=e[t])===Math.trunc(r)&&r>0?null:(0,o.m)(["Invalid prop `"+t+"` of type `"+typeof e[t]+"` supplied to `"+(n||"N/A")+"`, expected `positive integer` ("+e[t]+")."]);var r};var y=n(7673),S=n(1453),b=n(9659),v=n(4036),w=n(4470),P=n(5742)},7731:function(e,t,n){"use strict";n.d(t,{LazyLoadItemListAsync:function(){return d}});var r=n(9471),o=n(7460),a=n(5338),i=n(4685),s=n(2495),l=n(4433),u=n(5633);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}function d(e){const[t,n,i,d,f,m,g,h,p,y,S,b,v]=(0,a.useItemListLazyLoad)(e);return(0,r.useEffect)(()=>(d(new u.B(e.pageItems,e.maxItems,e.firstItemRequestUrl,e.requestUrl,m,g,e.onResponseDataLoaded)),o.PageStore.on("window_scroll",h),o.PageStore.on("document_visibility_change",p),h(),()=>{o.PageStore.removeListener("window_scroll",h),o.PageStore.removeListener("document_visibility_change",p),i&&(i.cancelAll(),d(null))}),[]),(0,r.useEffect)(()=>{e.onItemsUpdate&&t.length>0&&e.onItemsUpdate(t)},[t]),n?t.length?r.createElement("div",{className:f.listOuter},b(),r.createElement("div",{ref:y,className:"items-list-wrap"},r.createElement("div",{ref:S,className:f.list},t.map((t,n)=>r.createElement(l.c,c({key:n},(0,l.k)(e,t,n),{showSelection:e.showSelection,hasAnySelection:e.hasAnySelection,isSelected:e.selectedMedia&&e.selectedMedia.has(t.friendly_token||t.uid||t.id),onSelectionChange:e.onMediaSelection,mediaId:t.friendly_token||t.uid||t.id}))))),v()):null:r.createElement(s.e,{className:f.listOuter})}d.propTypes={...i.ItemListAsync.propTypes},d.defaultProps={...i.ItemListAsync.defaultProps,pageItems:2}},8004:function(e,t,n){"use strict";n.d(t,{R:function(){return a},z:function(){return i}});var r=n(5697);const o=(...e)=>r[e[0]](...e.slice(1)),a=(...e)=>o("warn",...e),i=(...e)=>o("error",...e)},9222:function(e,t,n){"use strict";var r=n(2985),o=n(9471),a=n(8790),i=n(7460),s=n(7591),l=n(2855),u=n(1177),c=n(239),d=n(7731),f=n(7545);class m extends f.R{constructor(e){super(e,"author-playlists"),this.state={loadedAuthor:!1,loadedPlaylists:!1,playlistsCount:-1},this.getPlaylistsCountFunc=this.getPlaylistsCountFunc.bind(this)}getPlaylistsCountFunc(e){this.setState({loadedPlaylists:!0,playlistsCount:e})}pageContent(){return[this.state.author?o.createElement(u.A,{key:"ProfilePagesHeader",author:this.state.author,type:"playlists",hideChannelBanner:(0,s.inEmbeddedApp)()}):null,this.state.author?o.createElement(c.A,{key:"ProfilePagesContent"},o.createElement(a.ApiUrlConsumer,null,e=>o.createElement(l.MediaListWrapper,{title:-1<this.state.playlistsCount?"Created playlists":void 0,className:"profile-playlists-content items-list-ver"},o.createElement(d.LazyLoadItemListAsync,{requestUrl:e.user.playlists+this.state.author.username,itemsCountCallback:this.getPlaylistsCountFunc,hideViews:!i.PageStore.get("config-media-item").displayViews,hideAuthor:!i.PageStore.get("config-media-item").displayAuthor,hideDate:!i.PageStore.get("config-media-item").displayPublishDate})))):null]}}(0,r.C)("page-profile-playlists",m)}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,o,a){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],a=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every(function(e){return r.O[e](n[l])})?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,o,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=956,function(){var e={956:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],s=n[1],l=n[2],u=0;if(i.some(function(t){return 0!==e[t]})){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var c=l(r)}for(t&&t(n);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[276],function(){return r(9222)});o=r.O(o)}();
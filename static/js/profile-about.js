!function(){"use strict";var e,t={463:function(e,t,i){i.d(t,{c:function(){return o}});var n=i(4571),a=i.n(n);function o(e,t){let i=a()(e,{});return""!==i.origin&&"null"!==i.origin&&i.origin||(i=a()(t+"/"+e.replace(/^\//g,""),{})),i.toString()}},3155:function(e,t,i){var n=i(2985),a=i(9471),o=i(8713),s=i.n(o),r=i(4571),l=i.n(r),u=i(8790),c=i(1838),d=i(285),h=i(7460),m=i(1177),f=i(239),p=i(6190),b=i(7545),g=i(8974);class y extends a.PureComponent{constructor(e){super(e),this.state={subject:"",body:"",isSending:!1},this.onUpdateSubject=this.onUpdateSubject.bind(this),this.onUpdateBody=this.onUpdateBody.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.onSubmitFail=this.onSubmitFail.bind(this)}onUpdateSubject(){this.setState({subject:this.refs.msgSubject.value.trim()})}onUpdateBody(){this.setState({body:this.refs.msgBody.value.trim()})}onSubmitSuccess(e){this.setState({subject:"",body:"",isSending:!1},(function(){setTimeout(function(){d.PageActions.addNotification("Your message was successfully submitted to "+this.props.author.name,"messageSubmitSucceed")}.bind(this),100)}))}onSubmitFail(e){this.setState({isSending:!1},(function(){g.log(e),setTimeout(function(){d.PageActions.addNotification("Your message failed to submit. Please try again","messageSubmitFailed")}.bind(this),100)}))}onSubmit(e){this.state.isSending||""===this.state.subject||""===this.state.body||(e.preventDefault(),e.stopPropagation(),this.setState({isSending:!0},(function(){const e=u.ApiUrlContext._currentValue.users+"/"+this.props.author.username+"/contact";(0,c.postRequest)(e,{subject:this.state.subject,body:this.state.body},{headers:{"X-CSRFToken":(0,c.csrfToken)()}},!1,this.onSubmitSuccess,this.onSubmitFail)})))}render(){return a.createElement("div",{className:"media-list-row profile-contact"},a.createElement("div",{className:"media-list-header"},a.createElement("h2",null,"Contact")),a.createElement("form",{method:"post",className:"user-contact-form"+(this.state.isSending?" pending-response":"")},a.createElement("span",null,a.createElement("label",null,"Subject"),a.createElement("input",{ref:"msgSubject",type:"text",required:!0,onChange:this.onUpdateSubject,value:this.state.subject})),a.createElement("span",null,a.createElement("label",null,"Message"),a.createElement("textarea",{ref:"msgBody",required:!0,cols:"40",rows:"10",onChange:this.onUpdateBody,value:this.state.body})),a.createElement("button",{onClick:this.onSubmit},"SUBMIT")))}}class S extends b.R{constructor(e){super(e,"author-about"),this.userIsAuthor=null,this.enabledContactForm=!1}pageContent(){let e=null,t=[],i=[];if(this.state.author){let n,o;if(null===this.userIsAuthor&&(u.MemberContext._currentValue.is.anonymous?(this.userIsAuthor=!1,this.enabledContactForm=!1):(this.userIsAuthor=h.ProfilePageStore.get("author-data").username===u.MemberContext._currentValue.username,this.enabledContactForm=!this.userIsAuthor&&u.MemberContext._currentValue.can.contactUser)),void 0!==this.state.author.description&&this.state.author.description&&""!==this.state.author.description&&(e=this.state.author.description),void 0!==this.state.author.location_info&&this.state.author.location_info.length){let e=[];for(n=0;n<this.state.author.location_info.length;)void 0!==this.state.author.location_info[n].title&&void 0!==this.state.author.location_info[n].url&&e.push(a.createElement("a",{key:n,href:(0,c.formatInnerLink)(this.state.author.location_info[n].url,u.SiteContext._currentValue.url),title:this.state.author.location_info[n].title},this.state.author.location_info[n].title)),n+=1;t.push(a.createElement("li",{key:"location"},a.createElement("span",null,"Location:"),a.createElement("span",null,e)))}else void 0!==this.state.author.location&&this.state.author.location&&""!==this.state.author.location&&t.push(a.createElement("li",{key:"location"},a.createElement("span",null,"Location:"),a.createElement("span",null,this.state.author.location)));if(void 0!==this.state.author.home_page&&this.state.author.home_page&&""!==this.state.author.home_page&&(o=l()(this.state.author.home_page.trim()).toString(),""!==o&&t.push(a.createElement("li",{key:"website"},a.createElement("span",null,"Website:"),a.createElement("span",null,o)))),void 0!==this.state.author.social_media_links&&this.state.author.social_media_links&&""!==this.state.author.social_media_links){let e=this.state.author.social_media_links.split(",");if(e.length){for(n=0;n<e.length;)o=e[n].trim(),""!==o&&i.push(a.createElement("span",{key:n},o)),n+=1;t.push(a.createElement("li",{key:"social_media"},a.createElement("span",null,"Social media:"),a.createElement("span",{className:"author-social-media"},i)))}}}return[this.state.author?a.createElement(m.A,{key:"ProfilePagesHeader",author:this.state.author,type:"about"}):null,this.state.author?a.createElement(f.A,{key:"ProfilePagesContent",enabledContactForm:this.enabledContactForm},a.createElement("div",{className:"media-list-wrapper items-list-ver  profile-about-content "},null===e&&0<t.length?null:h.PageStore.get("config-options").pages.profile.htmlInDescription?a.createElement(p.MediaListRow,{title:this.props.title},a.createElement("span",{dangerouslySetInnerHTML:{__html:e||null}})):a.createElement(p.MediaListRow,{title:this.props.title},e),t.length?a.createElement(p.MediaListRow,{title:"Details"},a.createElement("ul",{className:"profile-details"},t)):null,this.enabledContactForm?a.createElement(y,{author:this.state.author}):null)):null]}}S.propTypes={title:s().string.isRequired},S.defaultProps={title:"Biography"},(0,n.C)("page-profile-about",S)},6089:function(e,t,i){i.d(t,{$:function(){return r}});var n=i(9471),a=i(6371);let o=[];function s(e){const[t,i]=(0,n.useState)(!1),[a,o]=(0,n.useState)(!0);let s=null,r=null;return(0,n.useEffect)((()=>(s=setTimeout((function(){r=setTimeout((function(){o(!1),r=null}),1e3),s=null,i(!0),e.onHide(e.id)}),5e3),()=>{s&&clearTimeout(s),r&&clearTimeout(r)})),[]),a?n.createElement("div",{className:"notification-item"+(t?" hidden":"")},n.createElement("div",null,n.createElement("span",null,e.children||"No message"))):null}function r(){const[e,t]=(0,n.useState)(o.length);function i(){t(a.default.get("notifications-size")+o.length)}function r(e){const t=[];o.map((i=>{i[0]!==e&&t.push(i)})),o=t}return(0,n.useEffect)((()=>(i(),a.default.on("added_notification",i),()=>a.default.removeListener("added_notification",i))),[]),e?n.createElement("div",{className:"notifications"},n.createElement("div",null,function(){const e=a.default.get("notifications");return[...o.map((e=>n.createElement(s,{key:e[0],id:e[0],onHide:r},e[1]))),...e.map((e=>(o.push(e),n.createElement(s,{key:e[0],id:e[0],onHide:r},e[1]))))]}())," "):null}},6371:function(e,t,i){i.r(t);var n=i(9032),a=i.n(n),o=i(7154),s=i(1838),r=i(3997);function l(){let e=new Uint32Array(3);return window.crypto.getRandomValues(e),(performance.now().toString(36)+Array.from(e).map((e=>e.toString(36))).join("")).replace(/./g,""+Math.random()+Intl.DateTimeFormat().resolvedOptions().timeZone+Date.now())}let u,c=null,d=null;class h extends(a()){constructor(e){super(),d=(0,r.$)(window.MediaCMS),u=new o.BrowserCache(d.site.id,86400),c={mediaAutoPlay:u.get("media-auto-play")},c.mediaAutoPlay=null===c.mediaAutoPlay||c.mediaAutoPlay,this.browserEvents=(0,s.BrowserEvents)(),this.browserEvents.doc(this.onDocumentVisibilityChange.bind(this)),this.browserEvents.win(this.onWindowResize.bind(this),this.onWindowScroll.bind(this)),this.notifications=function(e){let t=[];function i(e){"string"==typeof e&&t.push([l(),e])}return e.map(i),{size:function(){return t.length},push:i,clear:function(){t=[]},messages:function(){return[...t]}}}(void 0!==window.MediaCMS&&void 0!==window.MediaCMS.notifications?window.MediaCMS.notifications:[])}onDocumentVisibilityChange(){this.emit("document_visibility_change")}onWindowScroll(){this.emit("window_scroll")}onWindowResize(){this.emit("window_resize")}initPage(e){c.currentPage=e}get(e){let t;switch(e){case"browser-cache":t=u;break;case"media-auto-play":t=c.mediaAutoPlay;break;case"config-contents":t=d.contents;break;case"config-enabled":t=d.enabled;break;case"config-media-item":t=d.media.item;break;case"config-options":t=d.options;break;case"config-site":t=d.site;break;case"api-playlists":i=e.split("-")[1],t=d.api[i]||null;break;case"notifications-size":t=this.notifications.size();break;case"notifications":t=this.notifications.messages(),this.notifications.clear();break;case"current-page":t=c.currentPage}var i;return t}actions_handler(e){switch(e.type){case"INIT_PAGE":this.initPage(e.page),this.emit("page_init");break;case"TOGGLE_AUTO_PLAY":c.mediaAutoPlay=!c.mediaAutoPlay,u.set("media-auto-play",c.mediaAutoPlay),this.emit("switched_media_auto_play");break;case"ADD_NOTIFICATION":this.notifications.push(e.notification),this.emit("added_notification")}}}t.default=(0,s.exportStore)(new h,"actions_handler")},6568:function(e,t,i){i.d(t,{x:function(){return s}});var n=i(9471),a=i(8713),o=i.n(a);function s(e){let t="spinner-loader";switch(e.size){case"tiny":case"x-small":case"small":case"large":case"x-large":t+=" "+e.size}return n.createElement("div",{className:t},n.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},n.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"1.5",strokeMiterlimit:"10"})))}s.propTypes={size:o().oneOf(["tiny","x-small","small","medium","large","x-large"])},s.defaultProps={size:"medium"}},7256:function(e,t,i){i.d(t,{P:function(){return r}});var n=i(9471),a=i(8713),o=i.n(a),s=i(2828);function r(e){return e.options.map((t=>n.createElement("div",{key:t.id,className:t.id===e.selected?"active":""},n.createElement("button",{onClick:e.onSelect,filter:e.id,value:t.id},n.createElement("span",null,t.title),t.id===e.selected?n.createElement(s.Z,{type:"close"}):null))))}r.propTypes={id:o().string.isRequired,selected:o().string.isRequired,onSelect:o().func.isRequired}}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var o=i[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=function(t,i,a,o){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],o=e[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(r=!1,o<s&&(s=o));if(r){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,a,o]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=382,function(){var e={382:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,o,s=i[0],r=i[1],l=i[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var c=l(n)}for(t&&t(i);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},i=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var a=n.O(void 0,[276],(function(){return n(3155)}));a=n.O(a)}();
!function(){var e,t={282:function(e,t,n){"use strict";var r=n(2985),o=n(9471),a=n(8713),i=n.n(a),s=n(8790),l=n(285),c=n(2855),u=n(9835),d=n(9479);function m(e,t,n){return e+"?"+t+(""===t?"":"&")+"page="+n}class h extends d.Y{constructor(e){super(e,"manage-comments"),this.state={resultsCount:null,requestUrl:s.ApiUrlContext._currentValue.manage.comments,currentPage:1,sortingArgs:"",sortBy:"add_date",ordering:"desc",refresh:0},this.getCountFunc=this.getCountFunc.bind(this),this.onTablePageChange=this.onTablePageChange.bind(this),this.onColumnSortClick=this.onColumnSortClick.bind(this),this.onItemsRemoval=this.onItemsRemoval.bind(this),this.onItemsRemovalFail=this.onItemsRemovalFail.bind(this)}onTablePageChange(e,t){this.setState({currentPage:t,requestUrl:m(s.ApiUrlContext._currentValue.manage.comments,this.state.sortingArgs,t)})}getCountFunc(e){this.setState({resultsCount:e})}onColumnSortClick(e,t){const n="sort_by="+e+"&ordering="+t;this.setState({sortBy:e,ordering:t,sortingArgs:n,requestUrl:m(s.ApiUrlContext._currentValue.manage.comments,n,this.state.currentPage)})}onItemsRemoval(e){this.setState({resultsCount:null,refresh:this.state.refresh+1,requestUrl:s.ApiUrlContext._currentValue.manage.comments},(function(){e?l.PageActions.addNotification("The comments deleted successfully.","commentsRemovalSucceed"):l.PageActions.addNotification("The comment deleted successfully.","commentRemovalSucceed")}))}onItemsRemovalFail(e){e?l.PageActions.addNotification("The comments removal failed. Please try again.","commentsRemovalFailed"):l.PageActions.addNotification("The comment removal failed. Please try again.","commentRemovalFailed")}pageContent(){return o.createElement(c.MediaListWrapper,{title:this.props.title+(null===this.state.resultsCount?"":" ("+this.state.resultsCount+")"),className:"search-results-wrap items-list-hor"},o.createElement(u.D,{pageItems:50,manageType:"comments",key:this.state.requestUrl+"["+this.state.refresh+"]",itemsCountCallback:this.getCountFunc,requestUrl:this.state.requestUrl,onPageChange:this.onTablePageChange,sortBy:this.state.sortBy,ordering:this.state.ordering,onRowsDelete:this.onItemsRemoval,onRowsDeleteFail:this.onItemsRemovalFail,onClickColumnSort:this.onColumnSortClick}))}}h.propTypes={title:i().string.isRequired},h.defaultProps={title:"Manage comments"},(0,r.C)("page-manage-comments",h)},977:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(7143);function o(e,t){return r.register(e[t].bind(e)),e}},4853:function(e,t,n){"use strict";n.r(t),n.d(t,{useBulkActions:function(){return a}});var r=n(9471),o=n(7591);function a(){const[e,t]=(0,r.useState)(new Set),[n,a]=(0,r.useState)([]),[i,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(0),[f,g]=(0,r.useState)(""),[S,p]=(0,r.useState)(!1),[y,b]=(0,r.useState)("success"),[w,C]=(0,r.useState)(!1),[v,T]=(0,r.useState)(null),[P,k]=(0,r.useState)(!1),[M,F]=(0,r.useState)(!1),[_,O]=(0,r.useState)(!1),[A,R]=(0,r.useState)(!1),[E,j]=(0,r.useState)(!1),I=()=>{let e=null;if(document.cookie&&""!==document.cookie){const t=document.cookie.split(";");for(let n=0;n<t.length;n++){const r=t[n].trim();if("csrftoken="===r.substring(0,10)){e=decodeURIComponent(r.substring(10));break}}}return e},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";g(e),p(!0),b(t),setTimeout((()=>{p(!1)}),5e3)},U=()=>{t(new Set)},x=()=>{t(new Set),h((e=>e+1))};return{selectedMedia:e,availableMediaIds:n,listKey:m,showConfirmModal:i,confirmMessage:u,notificationMessage:f,showNotification:S,notificationType:y,showPermissionModal:w,permissionType:v,showPlaylistModal:P,showChangeOwnerModal:M,showPublishStateModal:_,showCategoryModal:A,showTagModal:E,handleMediaSelection:(e,n)=>{t((t=>{const r=new Set(t);return n?r.add(e):r.delete(e),r}))},handleItemsUpdate:e=>{const t=e.map((e=>e.friendly_token||e.uid||e.id));a(t)},handleSelectAll:()=>{t(new Set(n))},handleDeselectAll:()=>{t(new Set)},handleBulkAction:t=>{const n=e.size;0!==n&&("delete-media"===t?(s(!0),c(t),d((0,o.translateString)("You are going to delete")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"enable-comments"===t?(s(!0),c(t),d((0,o.translateString)("You are going to enable comments to")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"disable-comments"===t?(s(!0),c(t),d((0,o.translateString)("You are going to disable comments to")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"enable-download"===t?(s(!0),c(t),d((0,o.translateString)("You are going to enable download for")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"disable-download"===t?(s(!0),c(t),d((0,o.translateString)("You are going to disable download for")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"copy-media"===t?(s(!0),c(t),d((0,o.translateString)("You are going to copy")+` ${n} `+(0,o.translateString)("media, are you sure?"))):"add-remove-coviewers"===t?(C(!0),T("viewer")):"add-remove-coeditors"===t?(C(!0),T("editor")):"add-remove-coowners"===t?(C(!0),T("owner")):"add-remove-playlist"===t?k(!0):"change-owner"===t?F(!0):"publish-state"===t?O(!0):"add-remove-category"===t?R(!0):"add-remove-tags"===t&&j(!0))},handleConfirmCancel:()=>{s(!1),c(null),d("")},handleConfirmProceed:()=>{const t=l;s(!1),c(null),d(""),"delete-media"===t?(()=>{const t=Array.from(e),n=t.length;fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":I()},body:JSON.stringify({action:"delete_media",media_ids:t})}).then((e=>{if(!e.ok)throw new Error("Failed to delete media");return e.json()})).then((e=>{const t=1===n?(0,o.translateString)("The media was deleted successfully."):(0,o.translateString)("Successfully deleted")+` ${n} `+(0,o.translateString)("media.");N(t),x()})).catch((e=>{N((0,o.translateString)("Failed to delete media. Please try again."),"error"),x()}))})():"enable-comments"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":I()},body:JSON.stringify({action:"enable_comments",media_ids:t})}).then((e=>{if(!e.ok)throw new Error("Failed to enable comments");return e.json()})).then((e=>{N((0,o.translateString)("Successfully Enabled comments")),U()})).catch((e=>{N((0,o.translateString)("Failed to enable comments."),"error"),U()}))})():"disable-comments"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":I()},body:JSON.stringify({action:"disable_comments",media_ids:t})}).then((e=>{if(!e.ok)throw new Error("Failed to disable comments");return e.json()})).then((e=>{N((0,o.translateString)("Successfully Disabled comments")),U()})).catch((e=>{N((0,o.translateString)("Failed to disable comments."),"error"),U()}))})():"enable-download"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":I()},body:JSON.stringify({action:"enable_download",media_ids:t})}).then((e=>{if(!e.ok)throw new Error("Failed to enable download");return e.json()})).then((e=>{N((0,o.translateString)("Successfully Enabled Download")),U()})).catch((e=>{N((0,o.translateString)("Failed to enable download."),"error"),U()}))})():"disable-download"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":I()},body:JSON.stringify({action:"disable_download",media_ids:t})}).then((e=>{if(!e.ok)throw new Error("Failed to disable download");return e.json()})).then((e=>{N((0,o.translateString)("Successfully Disabled Download")),U()})).catch((e=>{N((0,o.translateString)("Failed to disable download."),"error"),U()}))})():"copy-media"===t&&(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":I()},body:JSON.stringify({action:"copy_media",media_ids:t})}).then((e=>{if(!e.ok)throw new Error("Failed to copy media");return e.json()})).then((e=>{N((0,o.translateString)("Successfully Copied")),x()})).catch((e=>{N((0,o.translateString)("Failed to copy media."),"error"),U()}))})()},handlePermissionModalCancel:()=>{C(!1),T(null)},handlePermissionModalSuccess:e=>{N(e),U(),C(!1),T(null)},handlePermissionModalError:e=>{N(e,"error"),C(!1),T(null)},handlePlaylistModalCancel:()=>{k(!1)},handlePlaylistModalSuccess:e=>{N(e),U(),k(!1)},handlePlaylistModalError:e=>{N(e,"error"),k(!1)},handleChangeOwnerModalCancel:()=>{F(!1)},handleChangeOwnerModalSuccess:e=>{N(e),x(),F(!1)},handleChangeOwnerModalError:e=>{N(e,"error"),F(!1)},handlePublishStateModalCancel:()=>{O(!1)},handlePublishStateModalSuccess:e=>{N(e),x(),O(!1)},handlePublishStateModalError:e=>{N(e,"error"),O(!1)},handleCategoryModalCancel:()=>{R(!1)},handleCategoryModalSuccess:e=>{N(e),U(),R(!1)},handleCategoryModalError:e=>{N(e,"error"),R(!1)},handleTagModalCancel:()=>{j(!1)},handleTagModalSuccess:e=>{N(e),U(),j(!1)},handleTagModalError:e=>{N(e,"error"),j(!1)},getCsrfToken:I,clearSelection:U,clearSelectionAndRefresh:x}}},6403:function(e,t,n){"use strict";n.d(t,{g:function(){return i},m:function(){return a}});var r=n(8004);function o(e,t,n){let r;switch(n){case TypeError:case RangeError:case SyntaxError:case ReferenceError:r=new n(t[0]);break;default:r=new Error(t[0])}return e(r.message,...t.slice(1)),r}function a(e,t){return o(r.z,e,t)}function i(e,t){return o(r.R,e,t)}},7143:function(e,t,n){const r=n(2063).Dispatcher;e.exports=new r},7664:function(e,t,n){"use strict";n.r(t),n.d(t,{CircleIconButton:function(){return r.i},FilterOptions:function(){return o.P},FiltersToggleButton:function(){return a.I},MaterialIcon:function(){return i.Z},NavigationContentApp:function(){return s.V},NavigationMenuList:function(){return l.S},Notifications:function(){return c.$},NumericInputWithUnit:function(){return u._},PopupMain:function(){return d.AP},PopupTop:function(){return d.cp},SpinnerLoader:function(){return m.x},UserThumbnail:function(){return h.c}});var r=n(5321),o=n(7256),a=n(3135),i=n(2828),s=n(5305),l=n(7201),c=n(6089),u=n(3818),d=n(2901),m=n(6568),h=n(878)},8004:function(e,t,n){"use strict";n.d(t,{R:function(){return a},z:function(){return i}});var r=n(8974);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r[t[0]](...t.slice(1))},a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("warn",...t)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("error",...t)}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,o,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=401,function(){var e={401:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],s=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(t&&t(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[276],(function(){return r(282)}));o=r.O(o)}();
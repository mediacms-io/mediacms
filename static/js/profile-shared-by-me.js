!function(){var e,t={977:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var o=n(7143);function s(e,t){return o.register(e[t].bind(e)),e}},1148:function(e,t,n){"use strict";var o=n(2985),s=n(9471),a=n(8713),r=n.n(a),i=n(8790),l=n(7460),d=n(285),u=n(2855),c=n(1177),h=n(239),g=n(7731),m=n(3160),f=n(9294),p=n(4473),S=n(3176),b=n(6918),y=n(2727),C=n(6172),M=n(7226),k=n(4353),w=n(8447);function P({showConfirmModal:e,confirmMessage:t,onConfirmCancel:n,onConfirmProceed:o,showPermissionModal:a,permissionType:r,selectedMediaIds:i,onPermissionModalCancel:l,onPermissionModalSuccess:d,onPermissionModalError:u,showPlaylistModal:c,onPlaylistModalCancel:h,onPlaylistModalSuccess:g,onPlaylistModalError:m,username:f,showChangeOwnerModal:p,onChangeOwnerModalCancel:P,onChangeOwnerModalSuccess:A,onChangeOwnerModalError:_,showPublishStateModal:T,onPublishStateModalCancel:v,onPublishStateModalSuccess:E,onPublishStateModalError:q,showCategoryModal:R,onCategoryModalCancel:I,onCategoryModalSuccess:O,onCategoryModalError:F,showTagModal:x,onTagModalCancel:U,onTagModalSuccess:j,onTagModalError:L,csrfToken:N,showNotification:D,notificationMessage:B,notificationType:z}){return s.createElement(s.Fragment,null,s.createElement(S.BulkActionConfirmModal,{isOpen:e,message:t,onCancel:n,onProceed:o}),s.createElement(b.BulkActionPermissionModal,{isOpen:a,permissionType:r,selectedMediaIds:i,onCancel:l,onSuccess:d,onError:u,csrfToken:N}),s.createElement(y.BulkActionPlaylistModal,{isOpen:c,selectedMediaIds:i,onCancel:h,onSuccess:g,onError:m,csrfToken:N,username:f}),s.createElement(C.BulkActionChangeOwnerModal,{isOpen:p,selectedMediaIds:i,onCancel:P,onSuccess:A,onError:_,csrfToken:N}),s.createElement(M.BulkActionPublishStateModal,{isOpen:T,selectedMediaIds:i,onCancel:v,onSuccess:E,onError:q,csrfToken:N}),s.createElement(k.BulkActionCategoryModal,{isOpen:R,selectedMediaIds:i,onCancel:I,onSuccess:O,onError:F,csrfToken:N}),s.createElement(w.BulkActionTagModal,{isOpen:x,selectedMediaIds:i,onCancel:U,onSuccess:j,onError:L,csrfToken:N}),D&&s.createElement("div",{style:{position:"fixed",bottom:"20px",left:"260px",backgroundColor:"error"===z?"#f44336":"#4CAF50",color:"white",padding:"16px 24px",borderRadius:"4px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3,fontSize:"14px",fontWeight:"500"}},B))}P.propTypes={showConfirmModal:r().bool.isRequired,confirmMessage:r().string.isRequired,onConfirmCancel:r().func.isRequired,onConfirmProceed:r().func.isRequired,showPermissionModal:r().bool.isRequired,permissionType:r().oneOf(["viewer","editor","owner",null]),selectedMediaIds:r().array.isRequired,onPermissionModalCancel:r().func.isRequired,onPermissionModalSuccess:r().func.isRequired,onPermissionModalError:r().func.isRequired,showPlaylistModal:r().bool.isRequired,onPlaylistModalCancel:r().func.isRequired,onPlaylistModalSuccess:r().func.isRequired,onPlaylistModalError:r().func.isRequired,username:r().string,showChangeOwnerModal:r().bool.isRequired,onChangeOwnerModalCancel:r().func.isRequired,onChangeOwnerModalSuccess:r().func.isRequired,onChangeOwnerModalError:r().func.isRequired,showPublishStateModal:r().bool.isRequired,onPublishStateModalCancel:r().func.isRequired,onPublishStateModalSuccess:r().func.isRequired,onPublishStateModalError:r().func.isRequired,showCategoryModal:r().bool.isRequired,onCategoryModalCancel:r().func.isRequired,onCategoryModalSuccess:r().func.isRequired,onCategoryModalError:r().func.isRequired,showTagModal:r().bool.isRequired,onTagModalCancel:r().func.isRequired,onTagModalSuccess:r().func.isRequired,onTagModalError:r().func.isRequired,csrfToken:r().string.isRequired,showNotification:r().bool.isRequired,notificationMessage:r().string.isRequired,notificationType:r().oneOf(["success","error"]).isRequired};var A=n(7591),_=n(4853);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(null,arguments)}var v=n(9479);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},E.apply(null,arguments)}function q(e){return s.createElement(i.LinksConsumer,null,e=>s.createElement("div",{className:"empty-media empty-channel-media"},s.createElement("div",{className:"welcome-title"},"No shared media"),s.createElement("div",{className:"start-uploading"},"Media that you have shared with others will show up here.")))}class R extends v.Y{constructor(e,t){super(e,"string"==typeof t?t:"author-shared-by-me"),this.profilePageSlug="string"==typeof t?t:"author-shared-by-me",this.state={channelMediaCount:-1,author:l.ProfilePageStore.get("author-data"),uploadsPreviewItemsCount:0,title:this.props.title,query:l.ProfilePageStore.get("author-query"),requestUrl:null,hiddenFilters:!0,hiddenTags:!0,hiddenSorting:!0,filterArgs:"",availableTags:[],selectedTag:"all",selectedSort:"date_added_desc"},this.authorDataLoad=this.authorDataLoad.bind(this),this.onAuthorPreviewItemsCountCallback=this.onAuthorPreviewItemsCountCallback.bind(this),this.getCountFunc=this.getCountFunc.bind(this),this.changeRequestQuery=this.changeRequestQuery.bind(this),this.onToggleFiltersClick=this.onToggleFiltersClick.bind(this),this.onToggleTagsClick=this.onToggleTagsClick.bind(this),this.onToggleSortingClick=this.onToggleSortingClick.bind(this),this.onFiltersUpdate=this.onFiltersUpdate.bind(this),this.onTagSelect=this.onTagSelect.bind(this),this.onSortSelect=this.onSortSelect.bind(this),this.onResponseDataLoaded=this.onResponseDataLoaded.bind(this),l.ProfilePageStore.on("load-author-data",this.authorDataLoad)}componentDidMount(){d.ProfilePageActions.load_author_data()}authorDataLoad(){const e=l.ProfilePageStore.get("author-data");let t=this.state.requestUrl;e&&(t=this.state.query?i.ApiUrlContext._currentValue.media+"?author="+e.id+"&show=shared_by_me&q="+encodeURIComponent(this.state.query)+this.state.filterArgs:i.ApiUrlContext._currentValue.media+"?author="+e.id+"&show=shared_by_me"+this.state.filterArgs),this.setState({author:e,requestUrl:t})}onAuthorPreviewItemsCountCallback(e){this.setState({uploadsPreviewItemsCount:e})}getCountFunc(e){this.setState({channelMediaCount:e},()=>{if(this.state.query){let t="";t=e?1===e?'1 result for "'+this.state.query+'"':e+' results for "'+this.state.query+'"':'No results for "'+this.state.query+'"',this.setState({title:t})}})}changeRequestQuery(e){if(!this.state.author)return;let t;t=e?i.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_by_me&q="+encodeURIComponent(e)+this.state.filterArgs:i.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_by_me"+this.state.filterArgs;let n=this.state.title;""===e&&(n=this.props.title),this.setState({requestUrl:t,query:e,title:n})}onToggleFiltersClick(){this.setState({hiddenFilters:!this.state.hiddenFilters,hiddenTags:!0,hiddenSorting:!0})}onToggleTagsClick(){this.setState({hiddenFilters:!0,hiddenTags:!this.state.hiddenTags,hiddenSorting:!0})}onToggleSortingClick(){this.setState({hiddenFilters:!0,hiddenTags:!0,hiddenSorting:!this.state.hiddenSorting})}onTagSelect(e){this.setState({selectedTag:e},()=>{this.onFiltersUpdate({media_type:this.state.filterArgs.match(/media_type=([^&]+)/)?.[1],upload_date:this.state.filterArgs.match(/upload_date=([^&]+)/)?.[1],duration:this.state.filterArgs.match(/duration=([^&]+)/)?.[1],publish_state:this.state.filterArgs.match(/publish_state=([^&]+)/)?.[1],sort_by:this.state.selectedSort,tag:e})})}onSortSelect(e){this.setState({selectedSort:e},()=>{this.onFiltersUpdate({media_type:this.state.filterArgs.match(/media_type=([^&]+)/)?.[1],upload_date:this.state.filterArgs.match(/upload_date=([^&]+)/)?.[1],duration:this.state.filterArgs.match(/duration=([^&]+)/)?.[1],publish_state:this.state.filterArgs.match(/publish_state=([^&]+)/)?.[1],sort_by:e,tag:this.state.selectedTag})})}onFiltersUpdate(e){const t={media_type:null,upload_date:null,duration:null,publish_state:null,sort_by:null,ordering:null,t:null};switch(e.media_type){case"video":case"audio":case"image":case"pdf":t.media_type=e.media_type}switch(e.upload_date){case"today":case"this_week":case"this_month":case"this_year":t.upload_date=e.upload_date}switch(e.duration&&"all"!==e.duration&&(t.duration=e.duration),e.publish_state&&"all"!==e.publish_state&&(t.publish_state=e.publish_state),e.sort_by){case"date_added_desc":break;case"date_added_asc":t.ordering="asc";break;case"alphabetically_asc":t.sort_by="title_asc";break;case"alphabetically_desc":t.sort_by="title_desc";break;case"plays_least":t.sort_by="views_asc";break;case"plays_most":t.sort_by="views_desc";break;case"likes_least":t.sort_by="likes_asc";break;case"likes_most":t.sort_by="likes_desc"}e.tag&&"all"!==e.tag&&(t.t=e.tag);const n=[];for(let e in t)null!==t[e]&&n.push(e+"="+t[e]);this.setState({filterArgs:n.length?"&"+n.join("&"):""},function(){if(!this.state.author)return;let e;e=this.state.query?i.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_by_me&q="+encodeURIComponent(this.state.query)+this.state.filterArgs:i.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_by_me"+this.state.filterArgs,this.setState({requestUrl:e})})}onResponseDataLoaded(e){if(e&&e.tags){const t=e.tags.split(",").map(e=>e.trim()).filter(e=>e);this.setState({availableTags:t})}}pageContent(){const e=l.ProfilePageStore.get("author-data"),t=e&&e.username===i.MemberContext._currentValue.username,n=this.state.filterArgs&&(this.state.filterArgs.includes("media_type=")||this.state.filterArgs.includes("upload_date=")||this.state.filterArgs.includes("duration=")||this.state.filterArgs.includes("publish_state="));return[this.state.author?s.createElement(c.A,{key:"ProfilePagesHeader",author:this.state.author,type:"shared_by_me",onQueryChange:this.changeRequestQuery,onToggleFiltersClick:this.onToggleFiltersClick,onToggleTagsClick:this.onToggleTagsClick,onToggleSortingClick:this.onToggleSortingClick,hasActiveFilters:n,hasActiveTags:"all"!==this.state.selectedTag,hasActiveSort:"date_added_desc"!==this.state.selectedSort,hideChannelBanner:(0,A.inEmbeddedApp)()}):null,this.state.author?s.createElement(h.A,{key:"ProfilePagesContent"},s.createElement(u.MediaListWrapper,{title:this.state.title,className:"items-list-ver",showBulkActions:t,selectedCount:this.props.bulkActions.selectedMedia.size,totalCount:this.props.bulkActions.availableMediaIds.length,onBulkAction:this.props.bulkActions.handleBulkAction,onSelectAll:this.props.bulkActions.handleSelectAll,onDeselectAll:this.props.bulkActions.handleDeselectAll},s.createElement(m.F,{hidden:this.state.hiddenFilters,tags:this.state.availableTags,onFiltersUpdate:this.onFiltersUpdate}),s.createElement(f.L,{hidden:this.state.hiddenTags,tags:this.state.availableTags,onTagSelect:this.onTagSelect}),s.createElement(p.s,{hidden:this.state.hiddenSorting,onSortSelect:this.onSortSelect}),s.createElement(g.LazyLoadItemListAsync,{key:`${this.state.requestUrl}-${this.props.bulkActions.listKey}`,requestUrl:this.state.requestUrl,hideAuthor:!0,itemsCountCallback:this.state.requestUrl?this.getCountFunc:null,hideViews:!l.PageStore.get("config-media-item").displayViews,hideDate:!l.PageStore.get("config-media-item").displayPublishDate,canEdit:t,onResponseDataLoaded:this.onResponseDataLoaded,showSelection:t,hasAnySelection:this.props.bulkActions.selectedMedia.size>0,selectedMedia:this.props.bulkActions.selectedMedia,onMediaSelection:this.props.bulkActions.handleMediaSelection,onItemsUpdate:this.props.bulkActions.handleItemsUpdate}),t&&0===this.state.channelMediaCount&&!this.state.query?s.createElement(q,{name:this.state.author.name}):null)):null,this.state.author&&t?s.createElement(P,E({key:"BulkActionsModals"},this.props.bulkActions,{selectedMediaIds:Array.from(this.props.bulkActions.selectedMedia),csrfToken:this.props.bulkActions.getCsrfToken(),username:this.state.author.username,onConfirmCancel:this.props.bulkActions.handleConfirmCancel,onConfirmProceed:this.props.bulkActions.handleConfirmProceed,onPermissionModalCancel:this.props.bulkActions.handlePermissionModalCancel,onPermissionModalSuccess:this.props.bulkActions.handlePermissionModalSuccess,onPermissionModalError:this.props.bulkActions.handlePermissionModalError,onPlaylistModalCancel:this.props.bulkActions.handlePlaylistModalCancel,onPlaylistModalSuccess:this.props.bulkActions.handlePlaylistModalSuccess,onPlaylistModalError:this.props.bulkActions.handlePlaylistModalError,onChangeOwnerModalCancel:this.props.bulkActions.handleChangeOwnerModalCancel,onChangeOwnerModalSuccess:this.props.bulkActions.handleChangeOwnerModalSuccess,onChangeOwnerModalError:this.props.bulkActions.handleChangeOwnerModalError,onPublishStateModalCancel:this.props.bulkActions.handlePublishStateModalCancel,onPublishStateModalSuccess:this.props.bulkActions.handlePublishStateModalSuccess,onPublishStateModalError:this.props.bulkActions.handlePublishStateModalError,onCategoryModalCancel:this.props.bulkActions.handleCategoryModalCancel,onCategoryModalSuccess:this.props.bulkActions.handleCategoryModalSuccess,onCategoryModalError:this.props.bulkActions.handleCategoryModalError,onTagModalCancel:this.props.bulkActions.handleTagModalCancel,onTagModalSuccess:this.props.bulkActions.handleTagModalSuccess,onTagModalError:this.props.bulkActions.handleTagModalError})):null]}}R.propTypes={title:r().string.isRequired,bulkActions:r().object.isRequired},R.defaultProps={title:"Shared by me"};const I=(O=R,function(e){const t=(0,_.useBulkActions)();return s.createElement(O,T({},e,{bulkActions:t}))});var O;(0,o.C)("page-profile-shared-by-me",I)},1936:function(e,t,n){"use strict";n.d(t,{PageHeader:function(){return o.z},PageMain:function(){return s.P},PageSidebar:function(){return a.E}});var o=n(1254),s=n(3212),a=n(795);n(1470)},4853:function(e,t,n){"use strict";n.r(t),n.d(t,{useBulkActions:function(){return a}});var o=n(9471),s=n(7591);function a(){const[e,t]=(0,o.useState)(new Set),[n,a]=(0,o.useState)([]),[r,i]=(0,o.useState)(!1),[l,d]=(0,o.useState)(null),[u,c]=(0,o.useState)(""),[h,g]=(0,o.useState)(0),[m,f]=(0,o.useState)(""),[p,S]=(0,o.useState)(!1),[b,y]=(0,o.useState)("success"),[C,M]=(0,o.useState)(!1),[k,w]=(0,o.useState)(null),[P,A]=(0,o.useState)(!1),[_,T]=(0,o.useState)(!1),[v,E]=(0,o.useState)(!1),[q,R]=(0,o.useState)(!1),[I,O]=(0,o.useState)(!1),F=()=>{let e=null;if(document.cookie&&""!==document.cookie){const t=document.cookie.split(";");for(let n=0;n<t.length;n++){const o=t[n].trim();if("csrftoken="===o.substring(0,10)){e=decodeURIComponent(o.substring(10));break}}}return e},x=(e,t="success")=>{f(e),S(!0),y(t),setTimeout(()=>{S(!1)},5e3)},U=()=>{t(new Set)},j=()=>{t(new Set),g(e=>e+1)};return{selectedMedia:e,availableMediaIds:n,listKey:h,showConfirmModal:r,confirmMessage:u,notificationMessage:m,showNotification:p,notificationType:b,showPermissionModal:C,permissionType:k,showPlaylistModal:P,showChangeOwnerModal:_,showPublishStateModal:v,showCategoryModal:q,showTagModal:I,handleMediaSelection:(e,n)=>{t(t=>{const o=new Set(t);return n?o.add(e):o.delete(e),o})},handleItemsUpdate:e=>{const t=e.map(e=>e.friendly_token||e.uid||e.id);a(t)},handleSelectAll:()=>{t(new Set(n))},handleDeselectAll:()=>{t(new Set)},handleBulkAction:t=>{const n=e.size;0!==n&&("delete-media"===t?(i(!0),d(t),c((0,s.translateString)("You are going to delete")+` ${n} `+(0,s.translateString)("media, are you sure?"))):"enable-comments"===t?(i(!0),d(t),c((0,s.translateString)("You are going to enable comments to")+` ${n} `+(0,s.translateString)("media, are you sure?"))):"disable-comments"===t?(i(!0),d(t),c((0,s.translateString)("You are going to disable comments to")+` ${n} `+(0,s.translateString)("media, are you sure?"))):"enable-download"===t?(i(!0),d(t),c((0,s.translateString)("You are going to enable download for")+` ${n} `+(0,s.translateString)("media, are you sure?"))):"disable-download"===t?(i(!0),d(t),c((0,s.translateString)("You are going to disable download for")+` ${n} `+(0,s.translateString)("media, are you sure?"))):"copy-media"===t?(i(!0),d(t),c((0,s.translateString)("You are going to copy")+` ${n} `+(0,s.translateString)("media, are you sure?"))):"add-remove-coviewers"===t?(M(!0),w("viewer")):"add-remove-coeditors"===t?(M(!0),w("editor")):"add-remove-coowners"===t?(M(!0),w("owner")):"add-remove-playlist"===t?A(!0):"change-owner"===t?T(!0):"publish-state"===t?E(!0):"add-remove-category"===t?R(!0):"add-remove-tags"===t&&O(!0))},handleConfirmCancel:()=>{i(!1),d(null),c("")},handleConfirmProceed:()=>{const t=l;i(!1),d(null),c(""),"delete-media"===t?(()=>{const t=Array.from(e),n=t.length;fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F()},body:JSON.stringify({action:"delete_media",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to delete media");return e.json()}).then(e=>{const t=1===n?(0,s.translateString)("The media was deleted successfully."):(0,s.translateString)("Successfully deleted")+` ${n} `+(0,s.translateString)("media.");x(t),j()}).catch(e=>{x((0,s.translateString)("Failed to delete media. Please try again."),"error"),j()})})():"enable-comments"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F()},body:JSON.stringify({action:"enable_comments",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to enable comments");return e.json()}).then(e=>{x((0,s.translateString)("Successfully Enabled comments")),U()}).catch(e=>{x((0,s.translateString)("Failed to enable comments."),"error"),U()})})():"disable-comments"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F()},body:JSON.stringify({action:"disable_comments",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to disable comments");return e.json()}).then(e=>{x((0,s.translateString)("Successfully Disabled comments")),U()}).catch(e=>{x((0,s.translateString)("Failed to disable comments."),"error"),U()})})():"enable-download"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F()},body:JSON.stringify({action:"enable_download",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to enable download");return e.json()}).then(e=>{x((0,s.translateString)("Successfully Enabled Download")),U()}).catch(e=>{x((0,s.translateString)("Failed to enable download."),"error"),U()})})():"disable-download"===t?(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F()},body:JSON.stringify({action:"disable_download",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to disable download");return e.json()}).then(e=>{x((0,s.translateString)("Successfully Disabled Download")),U()}).catch(e=>{x((0,s.translateString)("Failed to disable download."),"error"),U()})})():"copy-media"===t&&(()=>{const t=Array.from(e);fetch("/api/v1/media/user/bulk_actions",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":F()},body:JSON.stringify({action:"copy_media",media_ids:t})}).then(e=>{if(!e.ok)throw new Error("Failed to copy media");return e.json()}).then(e=>{x((0,s.translateString)("Successfully Copied")),j()}).catch(e=>{x((0,s.translateString)("Failed to copy media."),"error"),U()})})()},handlePermissionModalCancel:()=>{M(!1),w(null)},handlePermissionModalSuccess:e=>{x(e),U(),M(!1),w(null)},handlePermissionModalError:e=>{x(e,"error"),M(!1),w(null)},handlePlaylistModalCancel:()=>{A(!1)},handlePlaylistModalSuccess:e=>{x(e),U(),A(!1)},handlePlaylistModalError:e=>{x(e,"error"),A(!1)},handleChangeOwnerModalCancel:()=>{T(!1)},handleChangeOwnerModalSuccess:e=>{x(e),j(),T(!1)},handleChangeOwnerModalError:e=>{x(e,"error"),T(!1)},handlePublishStateModalCancel:()=>{E(!1)},handlePublishStateModalSuccess:e=>{x(e),j(),E(!1)},handlePublishStateModalError:e=>{x(e,"error"),E(!1)},handleCategoryModalCancel:()=>{R(!1)},handleCategoryModalSuccess:e=>{x(e),U(),R(!1)},handleCategoryModalError:e=>{x(e,"error"),R(!1)},handleTagModalCancel:()=>{O(!1)},handleTagModalSuccess:e=>{x(e),U(),O(!1)},handleTagModalError:e=>{x(e,"error"),O(!1)},getCsrfToken:F,clearSelection:U,clearSelectionAndRefresh:j}}},5633:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var o=n(7460),s=n(7591);function a(e,t,n,a,r,i,l){const d={maxItems:t||255,pageItems:e?Math.min(t,e):1},u={totalItems:0,totalPages:0,nextRequestUrl:(0,s.formatInnerLink)(a,o.PageStore.get("config-site").url)},c={pageItems:0,requestResponse:!1};let h=null;const g=[],m=[];function f(e){let t,n;if(e=isNaN(e)?d.pageItems:e,c.pageItems&&c.pageItems<=m.length?(t=c.pageItems,n=!1,c.pageItems=0):(t=Math.min(e,m.length),n=e>m.length&&!!u.nextRequestUrl,c.pageItems=n?e-m.length:0),t){let e=0;for(;e<t;)g.push(m.shift()),e+=1;"function"==typeof i&&i(g)}n&&p()}function p(e){c.requestResponse=!0,(0,s.getRequest)(u.nextRequestUrl,!1,function(t){if(c.requestResponse=!1,!t||!t.data)return;let n=t.data,o=void 0!==n.results?n.results:n,s=0;for(;s<o.length&&d.maxItems>m.length;)null!==h&&h===o[s].url||m.push(o[s]),s+=1;u.nextRequestUrl=n.next&&d.maxItems>m.length?n.next:null,e&&(u.totalItems=n.count?n.count:m.length,u.totalItems=Math.min(d.maxItems,u.totalItems),u.totalPages=Math.ceil(u.totalItems/d.pageItems),"function"==typeof r&&r(u.totalItems),"function"==typeof l&&l(n)),f()}),u.nextRequestUrl=null}return null!=n?(0,s.getRequest)((0,s.formatInnerLink)(n,o.PageStore.get("config-site").url),!1,function(e){if(e&&e.data){let t=e.data,n=void 0!==t.results?t.results:t;n.length&&(h=n[0].url,g.push(n[0]))}p(!0)}):p(!0),{loadItems:function(e){!c.requestResponse&&g.length<u.totalItems&&f(e)},totalPages:function(){return u.totalPages},loadedAllItems:function(){return g.length===u.totalItems},cancelAll:function(){r=null,i=null}}}},6403:function(e,t,n){"use strict";n.d(t,{g:function(){return r},m:function(){return a}});var o=n(8004);function s(e,t,n){let o;switch(n){case TypeError:case RangeError:case SyntaxError:case ReferenceError:o=new n(t[0]);break;default:o=new Error(t[0])}return e(o.message,...t.slice(1)),o}function a(e,t){return s(o.z,e,t)}function r(e,t){return s(o.R,e,t)}},7143:function(e,t,n){const o=n(2063).Dispatcher;e.exports=new o},7591:function(e,t,n){"use strict";n.r(t),n.d(t,{BrowserEvents:function(){return o.GT},PositiveInteger:function(){return p},PositiveIntegerOrZero:function(){return f},__esModule:function(){return k.B},addClassname:function(){return o.zc},cancelAnimationFrame:function(){return o.uU},csrfToken:function(){return c.G},deleteRequest:function(){return y.Fb},error:function(){return g.z},exportStore:function(){return a.A},formatInnerLink:function(){return l},formatManagementTableDate:function(){return d.n},formatViewsNumber:function(){return u.A},getRequest:function(){return y.iq},greaterCommonDivision:function(){return m.p7},hasClassname:function(){return o.CX},imageExtension:function(){return h.t},inEmbeddedApp:function(){return k.R},isGt:function(){return m.en},isInteger:function(){return m.Fq},isNumber:function(){return m.Et},isPositive:function(){return m.ep},isPositiveInteger:function(){return m.q6},isPositiveIntegerOrZero:function(){return m.tR},isPositiveNumber:function(){return m.F5},isZero:function(){return m.be},logErrorAndReturnError:function(){return s.m},logWarningAndReturnError:function(){return s.g},postRequest:function(){return y.MB},publishedOnDate:function(){return S.A},putRequest:function(){return y.zi},quickSort:function(){return b.g},removeClassname:function(){return o.qk},replaceString:function(){return M.u},requestAnimationFrame:function(){return o.xi},supportsSvgAsImg:function(){return o.kN},translateString:function(){return C.g},warn:function(){return g.R}});var o=n(1134),s=n(6403),a=n(977),r=n(4571),i=n.n(r);function l(e,t){let n=i()(e,{});return""!==n.origin&&"null"!==n.origin&&n.origin||(n=i()(t+"/"+e.replace(/^\//g,""),{})),n.toString()}var d=n(8482),u=n(4632),c=n(5393),h=n(1554),g=n(8004),m=n(8354);const f=function(e,t,n){return void 0===e[t]||(o=e[t])===Math.trunc(o)&&o>=0?null:(0,s.m)(["Invalid prop `"+t+"` of type `"+typeof e[t]+"` supplied to `"+(n||"N/A")+"`, expected `positive integer or zero` ("+e[t]+")."]);var o},p=function(e,t,n){return void 0===e[t]||(o=e[t])===Math.trunc(o)&&o>0?null:(0,s.m)(["Invalid prop `"+t+"` of type `"+typeof e[t]+"` supplied to `"+(n||"N/A")+"`, expected `positive integer` ("+e[t]+")."]);var o};var S=n(7673),b=n(1453),y=n(9659),C=n(4036),M=n(4470),k=n(5742)},7731:function(e,t,n){"use strict";n.d(t,{LazyLoadItemListAsync:function(){return c}});var o=n(9471),s=n(7460),a=n(5338),r=n(4685),i=n(2495),l=n(4433),d=n(5633);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(null,arguments)}function c(e){const[t,n,r,c,h,g,m,f,p,S,b,y,C]=(0,a.useItemListLazyLoad)(e);return(0,o.useEffect)(()=>(c(new d.B(e.pageItems,e.maxItems,e.firstItemRequestUrl,e.requestUrl,g,m,e.onResponseDataLoaded)),s.PageStore.on("window_scroll",f),s.PageStore.on("document_visibility_change",p),f(),()=>{s.PageStore.removeListener("window_scroll",f),s.PageStore.removeListener("document_visibility_change",p),r&&(r.cancelAll(),c(null))}),[]),(0,o.useEffect)(()=>{e.onItemsUpdate&&t.length>0&&e.onItemsUpdate(t)},[t]),n?t.length?o.createElement("div",{className:h.listOuter},y(),o.createElement("div",{ref:S,className:"items-list-wrap"},o.createElement("div",{ref:b,className:h.list},t.map((t,n)=>o.createElement(l.c,u({key:n},(0,l.k)(e,t,n),{showSelection:e.showSelection,hasAnySelection:e.hasAnySelection,isSelected:e.selectedMedia&&e.selectedMedia.has(t.friendly_token||t.uid||t.id),onSelectionChange:e.onMediaSelection,mediaId:t.friendly_token||t.uid||t.id}))))),C()):null:o.createElement(i.e,{className:h.listOuter})}c.propTypes={...r.ItemListAsync.propTypes},c.defaultProps={...r.ItemListAsync.defaultProps,pageItems:2}},8004:function(e,t,n){"use strict";n.d(t,{R:function(){return a},z:function(){return r}});var o=n(5697);const s=(...e)=>o[e[0]](...e.slice(1)),a=(...e)=>s("warn",...e),r=(...e)=>s("error",...e)}},n={};function o(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}o.m=t,e=[],o.O=function(t,n,s,a){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],a=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every(function(e){return o.O[e](n[l])})?n.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,s,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=749,function(){var e={749:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,a,r=n[0],i=n[1],l=n[2],d=0;if(r.some(function(t){return 0!==e[t]})){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var u=l(o)}for(t&&t(n);d<r.length;d++)a=r[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var s=o.O(void 0,[276],function(){return o(1148)});s=o.O(s)}();
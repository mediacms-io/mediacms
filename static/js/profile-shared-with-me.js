!function(){var t,e={463:function(t,e,n){"use strict";n.d(e,{c:function(){return s}});var i=n(4571),r=n.n(i);function s(t,e){let n=r()(t,{});return""!==n.origin&&"null"!==n.origin&&n.origin||(n=r()(e+"/"+t.replace(/^\//g,""),{})),n.toString()}},512:function(t,e,n){"use strict";var i=n(2985),r=n(9471),s=n(8713),a=n.n(s),o=n(8790),u=n(7460),l=n(285),c=n(2855),d=n(1177),h=n(239),f=n(7731),g=n(3160),p=n(9294),m=n(4473),_=(n(1838),n(9479));function y(t){return r.createElement(o.LinksConsumer,null,t=>r.createElement("div",{className:"empty-media empty-channel-media"},r.createElement("div",{className:"welcome-title"},"No shared media"),r.createElement("div",{className:"start-uploading"},"Media that others have shared with you will show up here.")))}class b extends _.Y{constructor(t,e){super(t,"string"==typeof e?e:"author-shared-with-me"),this.profilePageSlug="string"==typeof e?e:"author-shared-with-me",this.state={channelMediaCount:-1,author:u.ProfilePageStore.get("author-data"),uploadsPreviewItemsCount:0,title:this.props.title,query:u.ProfilePageStore.get("author-query"),requestUrl:null,hiddenFilters:!0,hiddenTags:!0,hiddenSorting:!0,filterArgs:"",availableTags:[],selectedTag:"all",selectedSort:"date_added_desc"},this.authorDataLoad=this.authorDataLoad.bind(this),this.onAuthorPreviewItemsCountCallback=this.onAuthorPreviewItemsCountCallback.bind(this),this.getCountFunc=this.getCountFunc.bind(this),this.changeRequestQuery=this.changeRequestQuery.bind(this),this.onToggleFiltersClick=this.onToggleFiltersClick.bind(this),this.onToggleTagsClick=this.onToggleTagsClick.bind(this),this.onToggleSortingClick=this.onToggleSortingClick.bind(this),this.onFiltersUpdate=this.onFiltersUpdate.bind(this),this.onTagSelect=this.onTagSelect.bind(this),this.onSortSelect=this.onSortSelect.bind(this),this.onResponseDataLoaded=this.onResponseDataLoaded.bind(this),u.ProfilePageStore.on("load-author-data",this.authorDataLoad)}componentDidMount(){l.ProfilePageActions.load_author_data()}authorDataLoad(){const t=u.ProfilePageStore.get("author-data");let e=this.state.requestUrl;t&&(e=this.state.query?o.ApiUrlContext._currentValue.media+"?author="+t.id+"&show=shared_with_me&q="+encodeURIComponent(this.state.query)+this.state.filterArgs:o.ApiUrlContext._currentValue.media+"?author="+t.id+"&show=shared_with_me"+this.state.filterArgs),this.setState({author:t,requestUrl:e})}onAuthorPreviewItemsCountCallback(t){this.setState({uploadsPreviewItemsCount:t})}getCountFunc(t){this.setState({channelMediaCount:t},()=>{if(this.state.query){let e="";e=t?1===t?'1 result for "'+this.state.query+'"':t+' results for "'+this.state.query+'"':'No results for "'+this.state.query+'"',this.setState({title:e})}})}changeRequestQuery(t){if(!this.state.author)return;let e;e=t?o.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_with_me&q="+encodeURIComponent(t)+this.state.filterArgs:o.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_with_me"+this.state.filterArgs;let n=this.state.title;""===t&&(n=this.props.title),this.setState({requestUrl:e,query:t,title:n})}onToggleFiltersClick(){this.setState({hiddenFilters:!this.state.hiddenFilters,hiddenTags:!0,hiddenSorting:!0})}onToggleTagsClick(){this.setState({hiddenFilters:!0,hiddenTags:!this.state.hiddenTags,hiddenSorting:!0})}onToggleSortingClick(){this.setState({hiddenFilters:!0,hiddenTags:!0,hiddenSorting:!this.state.hiddenSorting})}onTagSelect(t){this.setState({selectedTag:t},()=>{this.onFiltersUpdate({media_type:this.state.filterArgs.match(/media_type=([^&]+)/)?.[1],upload_date:this.state.filterArgs.match(/upload_date=([^&]+)/)?.[1],duration:this.state.filterArgs.match(/duration=([^&]+)/)?.[1],publish_state:this.state.filterArgs.match(/publish_state=([^&]+)/)?.[1],sort_by:this.state.selectedSort,tag:t})})}onSortSelect(t){this.setState({selectedSort:t},()=>{this.onFiltersUpdate({media_type:this.state.filterArgs.match(/media_type=([^&]+)/)?.[1],upload_date:this.state.filterArgs.match(/upload_date=([^&]+)/)?.[1],duration:this.state.filterArgs.match(/duration=([^&]+)/)?.[1],publish_state:this.state.filterArgs.match(/publish_state=([^&]+)/)?.[1],sort_by:t,tag:this.state.selectedTag})})}onFiltersUpdate(t){const e={media_type:null,upload_date:null,duration:null,publish_state:null,sort_by:null,ordering:null,t:null};switch(t.media_type){case"video":case"audio":case"image":case"pdf":e.media_type=t.media_type}switch(t.upload_date){case"today":case"this_week":case"this_month":case"this_year":e.upload_date=t.upload_date}switch(t.duration&&"all"!==t.duration&&(e.duration=t.duration),t.publish_state&&"all"!==t.publish_state&&(e.publish_state=t.publish_state),t.sort_by){case"date_added_desc":break;case"date_added_asc":e.ordering="asc";break;case"alphabetically_asc":e.sort_by="title_asc";break;case"alphabetically_desc":e.sort_by="title_desc";break;case"plays_least":e.sort_by="views_asc";break;case"plays_most":e.sort_by="views_desc";break;case"likes_least":e.sort_by="likes_asc";break;case"likes_most":e.sort_by="likes_desc"}t.tag&&"all"!==t.tag&&(e.t=t.tag);const n=[];for(let t in e)null!==e[t]&&n.push(t+"="+e[t]);this.setState({filterArgs:n.length?"&"+n.join("&"):""},function(){if(!this.state.author)return;let t;t=this.state.query?o.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_with_me&q="+encodeURIComponent(this.state.query)+this.state.filterArgs:o.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_with_me"+this.state.filterArgs,this.setState({requestUrl:t})})}onResponseDataLoaded(t){if(t&&t.tags){const e=t.tags.split(",").map(t=>t.trim()).filter(t=>t);this.setState({availableTags:e})}}pageContent(){const t=u.ProfilePageStore.get("author-data"),e=t&&t.username===o.MemberContext._currentValue.username,n=this.state.filterArgs&&(this.state.filterArgs.includes("media_type=")||this.state.filterArgs.includes("upload_date=")||this.state.filterArgs.includes("duration=")||this.state.filterArgs.includes("publish_state="));return[this.state.author?r.createElement(d.A,{key:"ProfilePagesHeader",author:this.state.author,type:"shared_with_me",onQueryChange:this.changeRequestQuery,onToggleFiltersClick:this.onToggleFiltersClick,onToggleTagsClick:this.onToggleTagsClick,onToggleSortingClick:this.onToggleSortingClick,hasActiveFilters:n,hasActiveTags:"all"!==this.state.selectedTag,hasActiveSort:"date_added_desc"!==this.state.selectedSort}):null,this.state.author?r.createElement(h.A,{key:"ProfilePagesContent"},r.createElement(c.MediaListWrapper,{title:this.state.title,className:"items-list-ver"},r.createElement(g.F,{hidden:this.state.hiddenFilters,tags:this.state.availableTags,onFiltersUpdate:this.onFiltersUpdate}),r.createElement(p.L,{hidden:this.state.hiddenTags,tags:this.state.availableTags,onTagSelect:this.onTagSelect}),r.createElement(m.s,{hidden:this.state.hiddenSorting,onSortSelect:this.onSortSelect}),r.createElement(f.LazyLoadItemListAsync,{key:this.state.requestUrl,requestUrl:this.state.requestUrl,hideAuthor:!0,itemsCountCallback:this.state.requestUrl?this.getCountFunc:null,hideViews:!u.PageStore.get("config-media-item").displayViews,hideDate:!u.PageStore.get("config-media-item").displayPublishDate,canEdit:!1,onResponseDataLoaded:this.onResponseDataLoaded}),e&&0===this.state.channelMediaCount&&!this.state.query?r.createElement(y,{name:this.state.author.name}):null)):null]}}b.propTypes={title:a().string.isRequired},b.defaultProps={title:"Shared with me"},(0,i.C)("page-profile-shared-with-me",b)},977:function(t,e,n){"use strict";n.d(e,{A:function(){return r}});var i=n(7143);function r(t,e){return i.register(t[e].bind(t)),t}},1702:function(t,e,n){"use strict";n.d(e,{R:function(){return s},e:function(){return a}});var i=n(6403),r=n(8354);const s=function(t,e,n){return void 0===t[e]||(0,r.tR)(t[e])?null:(0,i.m)(["Invalid prop `"+e+"` of type `"+typeof t[e]+"` supplied to `"+(n||"N/A")+"`, expected `positive integer or zero` ("+t[e]+")."])},a=function(t,e,n){return void 0===t[e]||(0,r.q6)(t[e])?null:(0,i.m)(["Invalid prop `"+e+"` of type `"+typeof t[e]+"` supplied to `"+(n||"N/A")+"`, expected `positive integer` ("+t[e]+")."])}},1838:function(t,e,n){"use strict";n.r(e),n.d(e,{BrowserEvents:function(){return i.GT},PositiveInteger:function(){return f.e},PositiveIntegerOrZero:function(){return f.R},addClassname:function(){return i.zc},cancelAnimationFrame:function(){return i.uU},csrfToken:function(){return l.G},deleteRequest:function(){return m.Fb},error:function(){return d.z},exportStore:function(){return s.A},formatInnerLink:function(){return a.c},formatManagementTableDate:function(){return o.n},formatViewsNumber:function(){return u.A},getRequest:function(){return m.iq},greaterCommonDivision:function(){return h.p7},hasClassname:function(){return i.CX},imageExtension:function(){return c.t},isGt:function(){return h.en},isInteger:function(){return h.Fq},isNumber:function(){return h.Et},isPositive:function(){return h.ep},isPositiveInteger:function(){return h.q6},isPositiveIntegerOrZero:function(){return h.tR},isPositiveNumber:function(){return h.F5},isZero:function(){return h.be},logErrorAndReturnError:function(){return r.m},logWarningAndReturnError:function(){return r.g},postRequest:function(){return m.MB},publishedOnDate:function(){return g.A},putRequest:function(){return m.zi},quickSort:function(){return p.g},removeClassname:function(){return i.qk},replaceString:function(){return y.u},requestAnimationFrame:function(){return i.xi},supportsSvgAsImg:function(){return i.kN},translateString:function(){return _.g},warn:function(){return d.R}});var i=n(1134),r=n(6403),s=n(977),a=n(463),o=n(8482),u=n(4632),l=n(5393),c=n(1554),d=n(8004),h=n(8354),f=n(1702),g=n(7673),p=n(1453),m=n(9659),_=n(4036),y=n(4470)},1936:function(t,e,n){"use strict";n.d(e,{PageHeader:function(){return i.z},PageMain:function(){return r.P},PageSidebar:function(){return s.E}});var i=n(1254),r=n(3212),s=n(795);n(1470)},3135:function(t,e,n){"use strict";var i=n(9471),r=n(8713),s=n.n(r),a=n(2828);function o(t){const[e,n]=(0,i.useState)(t.active);return i.createElement("div",{className:"mi-filters-toggle"},i.createElement("button",{className:e?"active":"","aria-label":"Filter",onClick:function(){n(!e),void 0!==t.onClick&&t.onClick()}},i.createElement(a.Z,{type:"filter_list"}),i.createElement("span",{className:"filter-button-label"},i.createElement("span",{className:"filter-button-label-text"},"FILTERS"))))}o.propTypes={onClick:s().func,active:s().bool},o.defaultProps={active:!1}},3818:function(t,e,n){"use strict";n(9471);var i=n(8713),r=n.n(i);r().string,r().array.isRequired,r().string,r().number,r().number,r().number,r().func,r().func},6403:function(t,e,n){"use strict";n.d(e,{g:function(){return a},m:function(){return s}});var i=n(8004);function r(t,e,n){let i;switch(n){case TypeError:case RangeError:case SyntaxError:case ReferenceError:i=new n(e[0]);break;default:i=new Error(e[0])}return t(i.message,...e.slice(1)),i}function s(t,e){return r(i.z,t,e)}function a(t,e){return r(i.R,t,e)}},7143:function(t,e,n){const i=n(2063).Dispatcher;t.exports=new i},7256:function(t,e,n){"use strict";n.d(e,{P:function(){return o}});var i=n(9471),r=n(8713),s=n.n(r),a=n(2828);function o(t){return t.options.map(e=>i.createElement("div",{key:e.id,className:e.id===t.selected?"active":""},i.createElement("button",{onClick:t.onSelect,filter:t.id,value:e.id},i.createElement("span",null,e.title),e.id===t.selected?i.createElement(a.Z,{type:"close"}):null)))}o.propTypes={id:s().string.isRequired,selected:s().string.isRequired,onSelect:s().func.isRequired}},7664:function(t,e,n){"use strict";n.d(e,{CircleIconButton:function(){return i.i},FilterOptions:function(){return r.P},MaterialIcon:function(){return s.Z},NavigationContentApp:function(){return a.V},NavigationMenuList:function(){return o.S},Notifications:function(){return u.$},PopupMain:function(){return l.AP},PopupTop:function(){return l.cp},SpinnerLoader:function(){return c.x},UserThumbnail:function(){return d.c}});var i=n(5321),r=n(7256),s=(n(3135),n(2828)),a=n(5305),o=n(7201),u=n(6089),l=(n(3818),n(2901)),c=n(6568),d=n(878)},7731:function(t,e,n){"use strict";n.d(e,{LazyLoadItemListAsync:function(){return d}});var i=n(9471),r=n(7460),s=n(5338),a=n(4685),o=n(2495),u=n(4433),l=n(5633);function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c.apply(null,arguments)}function d(t){const[e,n,a,d,h,f,g,p,m,_,y,b,v]=(0,s.useItemListLazyLoad)(t);return(0,i.useEffect)(()=>(d(new l.B(t.pageItems,t.maxItems,t.firstItemRequestUrl,t.requestUrl,f,g,t.onResponseDataLoaded)),r.PageStore.on("window_scroll",p),r.PageStore.on("document_visibility_change",m),p(),()=>{r.PageStore.removeListener("window_scroll",p),r.PageStore.removeListener("document_visibility_change",m),a&&(a.cancelAll(),d(null))}),[]),(0,i.useEffect)(()=>{t.onItemsUpdate&&e.length>0&&t.onItemsUpdate(e)},[e]),n?e.length?i.createElement("div",{className:h.listOuter},b(),i.createElement("div",{ref:_,className:"items-list-wrap"},i.createElement("div",{ref:y,className:h.list},e.map((e,n)=>i.createElement(u.c,c({key:n},(0,u.k)(t,e,n),{showSelection:t.showSelection,hasAnySelection:t.hasAnySelection,isSelected:t.selectedMedia&&t.selectedMedia.has(e.friendly_token||e.uid||e.id),onSelectionChange:t.onMediaSelection,mediaId:e.friendly_token||e.uid||e.id}))))),v()):null:i.createElement(o.e,{className:h.listOuter})}d.propTypes={...a.ItemListAsync.propTypes},d.defaultProps={...a.ItemListAsync.defaultProps,pageItems:2}},8004:function(t,e,n){"use strict";n.d(e,{R:function(){return s},z:function(){return a}});var i=n(5697);const r=(...t)=>i[t[0]](...t.slice(1)),s=(...t)=>r("warn",...t),a=(...t)=>r("error",...t)}},n={};function i(t){var r=n[t];if(void 0!==r)return r.exports;var s=n[t]={exports:{}};return e[t].call(s.exports,s,s.exports,i),s.exports}i.m=e,t=[],i.O=function(e,n,r,s){if(!n){var a=1/0;for(c=0;c<t.length;c++){n=t[c][0],r=t[c][1],s=t[c][2];for(var o=!0,u=0;u<n.length;u++)(!1&s||a>=s)&&Object.keys(i.O).every(function(t){return i.O[t](n[u])})?n.splice(u--,1):(o=!1,s<a&&(a=s));if(o){t.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,r,s]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.j=92,function(){var t={92:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,s,a=n[0],o=n[1],u=n[2],l=0;if(a.some(function(e){return 0!==t[e]})){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(u)var c=u(i)}for(e&&e(n);l<a.length;l++)s=a[l],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(c)},n=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var r=i.O(void 0,[276],function(){return i(512)});r=i.O(r)}();
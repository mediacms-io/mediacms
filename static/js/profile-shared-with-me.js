!function(){"use strict";var e,t={463:function(e,t,i){i.d(t,{c:function(){return s}});var n=i(4571),a=i.n(n);function s(e,t){let i=a()(e,{});return""!==i.origin&&"null"!==i.origin&&i.origin||(i=a()(t+"/"+e.replace(/^\//g,""),{})),i.toString()}},512:function(e,t,i){var n=i(2985),a=i(9471),s=i(8713),r=i.n(s),o=i(8790),l=i(7460),u=i(285),c=i(2855),d=i(1177),h=i(239),g=i(7731),f=i(3160),m=i(9294),p=i(4473),y=(i(1838),i(9479));function _(e){return a.createElement(o.LinksConsumer,null,(e=>a.createElement("div",{className:"empty-media empty-channel-media"},a.createElement("div",{className:"welcome-title"},"No shared media"),a.createElement("div",{className:"start-uploading"},"Media that others have shared with you will show up here."))))}class b extends y.Y{constructor(e,t){super(e,"string"==typeof t?t:"author-shared-with-me"),this.profilePageSlug="string"==typeof t?t:"author-shared-with-me",this.state={channelMediaCount:-1,author:l.ProfilePageStore.get("author-data"),uploadsPreviewItemsCount:0,title:this.props.title,query:l.ProfilePageStore.get("author-query"),requestUrl:null,hiddenFilters:!0,hiddenTags:!0,hiddenSorting:!0,filterArgs:"",availableTags:[],selectedTag:"all",selectedSort:"date_added_desc"},this.authorDataLoad=this.authorDataLoad.bind(this),this.onAuthorPreviewItemsCountCallback=this.onAuthorPreviewItemsCountCallback.bind(this),this.getCountFunc=this.getCountFunc.bind(this),this.changeRequestQuery=this.changeRequestQuery.bind(this),this.onToggleFiltersClick=this.onToggleFiltersClick.bind(this),this.onToggleTagsClick=this.onToggleTagsClick.bind(this),this.onToggleSortingClick=this.onToggleSortingClick.bind(this),this.onFiltersUpdate=this.onFiltersUpdate.bind(this),this.onTagSelect=this.onTagSelect.bind(this),this.onSortSelect=this.onSortSelect.bind(this),this.onResponseDataLoaded=this.onResponseDataLoaded.bind(this),l.ProfilePageStore.on("load-author-data",this.authorDataLoad)}componentDidMount(){u.ProfilePageActions.load_author_data()}authorDataLoad(){const e=l.ProfilePageStore.get("author-data");let t=this.state.requestUrl;e&&(t=this.state.query?o.ApiUrlContext._currentValue.search.query+this.state.query+"&author="+e.id+"&show=shared_with_me"+this.state.filterArgs:o.ApiUrlContext._currentValue.media+"?author="+e.id+"&show=shared_with_me"+this.state.filterArgs),this.setState({author:e,requestUrl:t})}onAuthorPreviewItemsCountCallback(e){this.setState({uploadsPreviewItemsCount:e})}getCountFunc(e){this.setState({channelMediaCount:e},(()=>{if(this.state.query){let t="";t=e?1===e?'1 result for "'+this.state.query+'"':e+' results for "'+this.state.query+'"':'No results for "'+this.state.query+'"',this.setState({title:t})}}))}changeRequestQuery(e){if(!this.state.author)return;let t;t=e?o.ApiUrlContext._currentValue.search.query+e+"&author="+this.state.author.id+"&show=shared_with_me"+this.state.filterArgs:o.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_with_me"+this.state.filterArgs;let i=this.state.title;""===e&&(i=this.props.title),this.setState({requestUrl:t,query:e,title:i})}onToggleFiltersClick(){this.setState({hiddenFilters:!this.state.hiddenFilters})}onToggleTagsClick(){this.setState({hiddenTags:!this.state.hiddenTags})}onToggleSortingClick(){this.setState({hiddenSorting:!this.state.hiddenSorting})}onTagSelect(e){this.setState({selectedTag:e},(()=>{this.onFiltersUpdate({media_type:this.state.filterArgs.match(/media_type=([^&]+)/)?.[1],upload_date:this.state.filterArgs.match(/upload_date=([^&]+)/)?.[1],sort_by:this.state.selectedSort,tag:e})}))}onSortSelect(e){this.setState({selectedSort:e},(()=>{this.onFiltersUpdate({media_type:this.state.filterArgs.match(/media_type=([^&]+)/)?.[1],upload_date:this.state.filterArgs.match(/upload_date=([^&]+)/)?.[1],sort_by:e,tag:this.state.selectedTag})}))}onFiltersUpdate(e){const t={media_type:null,upload_date:null,sort_by:null,ordering:null,t:null};switch(e.media_type){case"video":case"audio":case"image":case"pdf":t.media_type=e.media_type}switch(e.upload_date){case"today":case"this_week":case"this_month":case"this_year":t.upload_date=e.upload_date}switch(e.sort_by){case"date_added_desc":break;case"date_added_asc":t.ordering="asc";break;case"alphabetically_asc":t.sort_by="title_asc";break;case"alphabetically_desc":t.sort_by="title_desc";break;case"plays_least":t.sort_by="views_asc";break;case"plays_most":t.sort_by="views_desc";break;case"likes_least":t.sort_by="likes_asc";break;case"likes_most":t.sort_by="likes_desc"}e.tag&&"all"!==e.tag&&(t.t=e.tag);const i=[];for(let e in t)null!==t[e]&&i.push(e+"="+t[e]);this.setState({filterArgs:i.length?"&"+i.join("&"):""},(function(){if(!this.state.author)return;let e;e=this.state.query?o.ApiUrlContext._currentValue.search.query+this.state.query+"&author="+this.state.author.id+"&show=shared_with_me"+this.state.filterArgs:o.ApiUrlContext._currentValue.media+"?author="+this.state.author.id+"&show=shared_with_me"+this.state.filterArgs,this.setState({requestUrl:e})}))}onResponseDataLoaded(e){if(e&&e.tags){const t=e.tags.split(",").map((e=>e.trim())).filter((e=>e));this.setState({availableTags:t})}}pageContent(){const e=l.ProfilePageStore.get("author-data"),t=e&&e.username===o.MemberContext._currentValue.username;return[this.state.author?a.createElement(d.A,{key:"ProfilePagesHeader",author:this.state.author,type:"shared_with_me",onQueryChange:this.changeRequestQuery,onToggleFiltersClick:this.onToggleFiltersClick,onToggleTagsClick:this.onToggleTagsClick,onToggleSortingClick:this.onToggleSortingClick}):null,this.state.author?a.createElement(h.A,{key:"ProfilePagesContent"},a.createElement(c.MediaListWrapper,{title:!t||0<this.state.channelMediaCount?this.state.title:null,className:"items-list-ver"},a.createElement(f.F,{hidden:this.state.hiddenFilters,tags:this.state.availableTags,onFiltersUpdate:this.onFiltersUpdate}),a.createElement(m.L,{hidden:this.state.hiddenTags,tags:this.state.availableTags,onTagSelect:this.onTagSelect}),a.createElement(p.s,{hidden:this.state.hiddenSorting,onSortSelect:this.onSortSelect}),a.createElement(g.LazyLoadItemListAsync,{key:this.state.requestUrl,requestUrl:this.state.requestUrl,hideAuthor:!0,itemsCountCallback:this.state.requestUrl?this.getCountFunc:null,hideViews:!l.PageStore.get("config-media-item").displayViews,hideDate:!l.PageStore.get("config-media-item").displayPublishDate,canEdit:!1,onResponseDataLoaded:this.onResponseDataLoaded}),t&&0===this.state.channelMediaCount&&!this.state.query?a.createElement(_,{name:this.state.author.name}):null)):null]}}b.propTypes={title:r().string.isRequired},b.defaultProps={title:"Shared with me"},(0,n.C)("page-profile-shared-with-me",b)},1838:function(e,t,i){i.r(t),i.d(t,{BrowserEvents:function(){return n.GT},PositiveInteger:function(){return g.e},PositiveIntegerOrZero:function(){return g.R},addClassname:function(){return n.zc},cancelAnimationFrame:function(){return n.uU},csrfToken:function(){return u.G},deleteRequest:function(){return p.Fb},error:function(){return d.z},exportStore:function(){return s.A},formatInnerLink:function(){return r.c},formatManagementTableDate:function(){return o.n},formatViewsNumber:function(){return l.A},getRequest:function(){return p.iq},greaterCommonDivision:function(){return h.p7},hasClassname:function(){return n.CX},imageExtension:function(){return c.t},isGt:function(){return h.en},isInteger:function(){return h.Fq},isNumber:function(){return h.Et},isPositive:function(){return h.ep},isPositiveInteger:function(){return h.q6},isPositiveIntegerOrZero:function(){return h.tR},isPositiveNumber:function(){return h.F5},isZero:function(){return h.be},logErrorAndReturnError:function(){return a.m},logWarningAndReturnError:function(){return a.g},postRequest:function(){return p.MB},publishedOnDate:function(){return f.A},putRequest:function(){return p.zi},quickSort:function(){return m.g},removeClassname:function(){return n.qk},replaceString:function(){return _.u},requestAnimationFrame:function(){return n.xi},supportsSvgAsImg:function(){return n.kN},translateString:function(){return y.g},warn:function(){return d.R}});var n=i(1134),a=i(6403),s=i(977),r=i(463),o=i(8482),l=i(4632),u=i(5393),c=i(1554),d=i(8004),h=i(8354),g=i(1702),f=i(7673),m=i(1453),p=i(9659),y=i(4036),_=i(4470)},6089:function(e,t,i){i.d(t,{$:function(){return o}});var n=i(9471),a=i(6371);let s=[];function r(e){const[t,i]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!0);let r=null,o=null;return(0,n.useEffect)((()=>(r=setTimeout((function(){o=setTimeout((function(){s(!1),o=null}),1e3),r=null,i(!0),e.onHide(e.id)}),5e3),()=>{r&&clearTimeout(r),o&&clearTimeout(o)})),[]),a?n.createElement("div",{className:"notification-item"+(t?" hidden":"")},n.createElement("div",null,n.createElement("span",null,e.children||"No message"))):null}function o(){const[e,t]=(0,n.useState)(s.length);function i(){t(a.default.get("notifications-size")+s.length)}function o(e){const t=[];s.map((i=>{i[0]!==e&&t.push(i)})),s=t}return(0,n.useEffect)((()=>(i(),a.default.on("added_notification",i),()=>a.default.removeListener("added_notification",i))),[]),e?n.createElement("div",{className:"notifications"},n.createElement("div",null,function(){const e=a.default.get("notifications");return[...s.map((e=>n.createElement(r,{key:e[0],id:e[0],onHide:o},e[1]))),...e.map((e=>(s.push(e),n.createElement(r,{key:e[0],id:e[0],onHide:o},e[1]))))]}())," "):null}},6371:function(e,t,i){i.r(t);var n=i(9032),a=i.n(n),s=i(7154),r=i(1838),o=i(3997);function l(){let e=new Uint32Array(3);return window.crypto.getRandomValues(e),(performance.now().toString(36)+Array.from(e).map((e=>e.toString(36))).join("")).replace(/./g,""+Math.random()+Intl.DateTimeFormat().resolvedOptions().timeZone+Date.now())}let u,c=null,d=null;class h extends(a()){constructor(e){super(),d=(0,o.$)(window.MediaCMS),u=new s.BrowserCache(d.site.id,86400),c={mediaAutoPlay:u.get("media-auto-play")},c.mediaAutoPlay=null===c.mediaAutoPlay||c.mediaAutoPlay,this.browserEvents=(0,r.BrowserEvents)(),this.browserEvents.doc(this.onDocumentVisibilityChange.bind(this)),this.browserEvents.win(this.onWindowResize.bind(this),this.onWindowScroll.bind(this)),this.notifications=function(e){let t=[];function i(e){"string"==typeof e&&t.push([l(),e])}return e.map(i),{size:function(){return t.length},push:i,clear:function(){t=[]},messages:function(){return[...t]}}}(void 0!==window.MediaCMS&&void 0!==window.MediaCMS.notifications?window.MediaCMS.notifications:[])}onDocumentVisibilityChange(){this.emit("document_visibility_change")}onWindowScroll(){this.emit("window_scroll")}onWindowResize(){this.emit("window_resize")}initPage(e){c.currentPage=e}get(e){let t;switch(e){case"browser-cache":t=u;break;case"media-auto-play":t=c.mediaAutoPlay;break;case"config-contents":t=d.contents;break;case"config-enabled":t=d.enabled;break;case"config-media-item":t=d.media.item;break;case"config-options":t=d.options;break;case"config-site":t=d.site;break;case"api-playlists":i=e.split("-")[1],t=d.api[i]||null;break;case"notifications-size":t=this.notifications.size();break;case"notifications":t=this.notifications.messages(),this.notifications.clear();break;case"current-page":t=c.currentPage}var i;return t}actions_handler(e){switch(e.type){case"INIT_PAGE":this.initPage(e.page),this.emit("page_init");break;case"TOGGLE_AUTO_PLAY":c.mediaAutoPlay=!c.mediaAutoPlay,u.set("media-auto-play",c.mediaAutoPlay),this.emit("switched_media_auto_play");break;case"ADD_NOTIFICATION":this.notifications.push(e.notification),this.emit("added_notification")}}}t.default=(0,r.exportStore)(new h,"actions_handler")},6568:function(e,t,i){i.d(t,{x:function(){return r}});var n=i(9471),a=i(8713),s=i.n(a);function r(e){let t="spinner-loader";switch(e.size){case"tiny":case"x-small":case"small":case"large":case"x-large":t+=" "+e.size}return n.createElement("div",{className:t},n.createElement("svg",{className:"circular",viewBox:"25 25 50 50"},n.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"1.5",strokeMiterlimit:"10"})))}r.propTypes={size:s().oneOf(["tiny","x-small","small","medium","large","x-large"])},r.defaultProps={size:"medium"}},7256:function(e,t,i){i.d(t,{P:function(){return o}});var n=i(9471),a=i(8713),s=i.n(a),r=i(2828);function o(e){return e.options.map((t=>n.createElement("div",{key:t.id,className:t.id===e.selected?"active":""},n.createElement("button",{onClick:e.onSelect,filter:e.id,value:t.id},n.createElement("span",null,t.title),t.id===e.selected?n.createElement(r.Z,{type:"close"}):null))))}o.propTypes={id:s().string.isRequired,selected:s().string.isRequired,onSelect:s().func.isRequired}}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var s=i[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,e=[],n.O=function(t,i,a,s){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],s=e[c][2];for(var o=!0,l=0;l<i.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(o=!1,s<r&&(r=s));if(o){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,a,s]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=92,function(){var e={92:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,r=i[0],o=i[1],l=i[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)var c=l(n)}for(t&&t(i);u<r.length;u++)s=r[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},i=self.webpackChunkmediacms_frontend=self.webpackChunkmediacms_frontend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var a=n.O(void 0,[276],(function(){return n(512)}));a=n.O(a)}();